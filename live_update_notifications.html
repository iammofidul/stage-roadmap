<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Update Notifications - Technical Specification</title>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --success: #10b981;
            --warning: #f59e0b;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-600: #4b5563;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: var(--gray-800); background: var(--gray-50); }
        .container { max-width: 1000px; margin: 0 auto; padding: 1.5rem; }
        header { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; padding: 2rem 1.5rem; margin-bottom: 1.5rem; }
        header h1 { font-size: 2rem; margin-bottom: 0.25rem; }
        header p { opacity: 0.9; }
        .meta { display: flex; gap: 1.5rem; margin-top: 0.75rem; font-size: 0.85rem; opacity: 0.8; }
        .roadmap-link { background: rgba(255,255,255,0.2); padding: 0.5rem 1rem; border-radius: 6px; margin-top: 1rem; display: inline-block; }
        .roadmap-link a { color: white; text-decoration: none; font-weight: 600; }
        section { background: white; border-radius: 10px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        h2 { color: var(--gray-900); font-size: 1.4rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary); }
        h3 { color: var(--gray-800); font-size: 1.1rem; margin: 1rem 0 0.5rem; }
        p { margin-bottom: 0.75rem; color: var(--gray-600); }
        table { width: 100%; border-collapse: collapse; margin: 0.75rem 0; font-size: 0.9rem; }
        th, td { padding: 0.6rem 0.75rem; text-align: left; border-bottom: 1px solid var(--gray-200); }
        th { background: var(--gray-100); font-weight: 600; }
        code { background: var(--gray-100); padding: 0.15rem 0.35rem; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 0.85em; }
        pre { background: var(--gray-900); color: #e5e7eb; padding: 1rem; border-radius: 6px; overflow-x: auto; margin: 0.75rem 0; font-size: 0.8rem; }
        pre code { background: transparent; padding: 0; color: inherit; }
        .badge { display: inline-block; padding: 0.2rem 0.6rem; border-radius: 9999px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; }
        .badge-android { background: #d1fae5; color: #065f46; }
        .badge-ios { background: #dbeafe; color: #1e40af; }
        .badge-new { background: #fef3c7; color: #92400e; }
        .platform-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1rem 0; }
        .platform-card { border: 2px solid var(--gray-200); border-radius: 10px; padding: 1rem; }
        .platform-card h3 { margin-top: 0; display: flex; align-items: center; gap: 0.5rem; }
        .feature-list { list-style: none; padding: 0; margin: 0.5rem 0; }
        .feature-list li { padding: 0.3rem 0 0.3rem 1.25rem; position: relative; color: var(--gray-600); font-size: 0.9rem; }
        .feature-list li::before { content: "âœ“"; position: absolute; left: 0; color: var(--success); font-weight: bold; }
        .alert { padding: 0.75rem 1rem; border-radius: 6px; margin: 0.75rem 0; font-size: 0.9rem; }
        .alert-success { background: #d1fae5; border-left: 3px solid #10b981; color: #065f46; }
        .alert-info { background: #dbeafe; border-left: 3px solid #3b82f6; color: #1e40af; }
        .alert-warning { background: #fef3c7; border-left: 3px solid #f59e0b; color: #92400e; }
        .ref-link { color: var(--primary); text-decoration: none; }
        .ref-link:hover { text-decoration: underline; }
        .visual-compare { background: var(--gray-100); border-radius: 6px; padding: 1rem; font-family: monospace; font-size: 0.8rem; white-space: pre; overflow-x: auto; margin: 0.75rem 0; }
        footer { text-align: center; padding: 1.5rem; color: var(--gray-600); font-size: 0.85rem; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Live Update Notifications</h1>
            <p>Real-time progress tracking for Android & iOS</p>
            <div class="meta">
                <span><strong>Version:</strong> 1.1</span>
                <span><strong>Date:</strong> February 2026</span>
            </div>
            <div class="roadmap-link">
                <a href="https://iammofidul.github.io/stage-roadmap/" target="_blank">View Full Roadmap (Initiative 2) &rarr;</a>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- What is it called -->
        <section>
            <h2>Terminology - What is it called?</h2>

            <table>
                <thead>
                    <tr>
                        <th>Platform</th>
                        <th>Official Name</th>
                        <th>Min Version</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-ios">iOS</span></td>
                        <td><strong>Live Activities</strong> (with Dynamic Island)</td>
                        <td>iOS 16.1+</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-android">Android 16+</span></td>
                        <td><strong>Live Updates API</strong> / ProgressStyle Notifications</td>
                        <td>Android 16+</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-android">Android &lt;16</span></td>
                        <td><strong>Ongoing Progress Notifications</strong> + Foreground Service</td>
                        <td>Android 8.0+</td>
                    </tr>
                </tbody>
            </table>

            <div class="alert alert-success">
                <strong>Industry Reference:</strong> Blinkit implemented Android 16's Live Updates API for order tracking.
                <a href="https://www.linkedin.com/posts/nakul-19_blinkit-android16-ordertracking-activity-7396907715156955136-Tt7C/" class="ref-link" target="_blank">View LinkedIn Post</a>
            </div>

            <h3>Visual Comparison</h3>
            <div class="visual-compare">Android 16 Live Updates:               Android &lt;16 Ongoing Notification:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›µ Blinkit                  â”‚       â”‚ ğŸ›µ Blinkit                  â”‚
â”‚ â—â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â—‹â”€â”€â”€â”€â”€â”€â”€â—‹   â”‚       â”‚ On the way - 8 min away     â”‚
â”‚ Packed â†’ On the way â†’ 8 min â”‚       â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 65%     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Rich timeline/stages UI               Basic progress bar only</div>
        </section>

        <!-- Platform Overview -->
        <section>
            <h2>Platform Overview</h2>
            <div class="platform-grid">
                <div class="platform-card">
                    <h3><span class="badge badge-ios">iOS</span> Live Activities</h3>
                    <ul class="feature-list">
                        <li>Lock screen live widgets</li>
                        <li>Dynamic Island (iPhone 14 Pro+)</li>
                        <li>8-12 hour max duration</li>
                        <li>Push or local updates</li>
                    </ul>
                </div>
                <div class="platform-card">
                    <h3><span class="badge badge-android">Android 16+</span> Live Updates</h3>
                    <ul class="feature-list">
                        <li>Native ProgressStyle template</li>
                        <li>Rich timeline UI</li>
                        <li>No duration limit</li>
                        <li>System-level integration</li>
                    </ul>
                </div>
                <div class="platform-card">
                    <h3><span class="badge badge-android">Android &lt;16</span> Ongoing Notifications</h3>
                    <ul class="feature-list">
                        <li>Works on Android 8.0+ (~95% devices)</li>
                        <li>Progress bar notifications</li>
                        <li>Requires Foreground Service</li>
                        <li>Basic UI, same functionality</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Implementation -->
        <section>
            <h2>Flutter Implementation</h2>

            <h3>Dependencies</h3>
            <pre><code># pubspec.yaml
dependencies:
  live_activities: ^2.0.0              # iOS Live Activities
  flutter_local_notifications: ^17.0.0  # Android notifications
  flutter_foreground_task: ^6.0.0       # Background execution</code></pre>

            <h3>iOS Setup</h3>
            <table>
                <tr><td><code>NSSupportsLiveActivities</code></td><td><code>true</code> in Info.plist</td></tr>
                <tr><td>Widget Extension</td><td>Create in Xcode with SwiftUI</td></tr>
                <tr><td>App Groups</td><td>Enable for data sharing</td></tr>
            </table>

            <h3>Android Setup</h3>
            <table>
                <tr><td><code>FOREGROUND_SERVICE</code></td><td>Required for background updates</td></tr>
                <tr><td><code>POST_NOTIFICATIONS</code></td><td>Required on Android 13+</td></tr>
                <tr><td>Notification Channel</td><td>Create dedicated channel for live updates</td></tr>
            </table>

            <h3>Cross-Platform Service Pattern</h3>
            <pre><code>// Unified repository - handles platform differences internally
abstract class LiveNotificationRepository {
  Future&lt;void&gt; startProgress({required String title, String? imageUrl});
  Future&lt;void&gt; updateProgress({required double progress, required String status});
  Future&lt;void&gt; complete({required String title, required String body});
  Future&lt;void&gt; cancel();
}

// Usage in Cubit
await _liveNotificationRepository.startProgress(title: 'Downloading Episode 5');
await _liveNotificationRepository.updateProgress(progress: 0.45, status: '45% - 2 min left');
await _liveNotificationRepository.complete(title: 'Ready', body: 'Episode 5 downloaded');</code></pre>
        </section>

        <!-- Comparison Table -->
        <section>
            <h2>Platform Comparison</h2>
            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th><span class="badge badge-ios">iOS 16.1+</span></th>
                        <th><span class="badge badge-android">Android 16+</span></th>
                        <th><span class="badge badge-android">Android &lt;16</span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>API Name</td>
                        <td>ActivityKit</td>
                        <td>Live Updates API</td>
                        <td>NotificationCompat</td>
                    </tr>
                    <tr>
                        <td>Rich UI</td>
                        <td>Yes (SwiftUI)</td>
                        <td>Yes (ProgressStyle)</td>
                        <td>Basic progress bar</td>
                    </tr>
                    <tr>
                        <td>Lock Screen</td>
                        <td>Native widget</td>
                        <td>Notification shade</td>
                        <td>Notification shade</td>
                    </tr>
                    <tr>
                        <td>Duration</td>
                        <td>8-12 hours max</td>
                        <td>Unlimited</td>
                        <td>Unlimited</td>
                    </tr>
                    <tr>
                        <td>Background</td>
                        <td>Push notifications</td>
                        <td>Native support</td>
                        <td>Foreground Service</td>
                    </tr>
                    <tr>
                        <td>Flutter Package</td>
                        <td><code>live_activities</code></td>
                        <td colspan="2"><code>flutter_local_notifications</code></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Use Cases -->
        <section>
            <h2>Stage App Use Cases</h2>
            <table>
                <thead>
                    <tr><th>Use Case</th><th>Description</th></tr>
                </thead>
                <tbody>
                    <tr><td><strong>Download Progress</strong></td><td>Real-time download progress for offline content</td></tr>
                    <tr><td><strong>Live Event Countdown</strong></td><td>Countdown for premiere events</td></tr>
                    <tr><td><strong>Resume Watching</strong></td><td>Continue watching reminder with progress</td></tr>
                    <tr><td><strong>New Episode</strong></td><td>Alert when new episode releases</td></tr>
                </tbody>
            </table>
        </section>

        <!-- Resources -->
        <section>
            <h2>Resources</h2>
            <ul style="list-style: none; padding: 0;">
                <li style="padding: 0.4rem 0;"><a href="https://developer.apple.com/documentation/activitykit" class="ref-link" target="_blank">Apple ActivityKit Documentation</a></li>
                <li style="padding: 0.4rem 0;"><a href="https://developer.android.com/develop/ui/views/notifications" class="ref-link" target="_blank">Android Notifications Guide</a></li>
                <li style="padding: 0.4rem 0;"><a href="https://pub.dev/packages/live_activities" class="ref-link" target="_blank">live_activities Flutter Package</a></li>
                <li style="padding: 0.4rem 0;"><a href="https://pub.dev/packages/flutter_local_notifications" class="ref-link" target="_blank">flutter_local_notifications Package</a></li>
                <li style="padding: 0.4rem 0;"><a href="https://www.linkedin.com/posts/nakul-19_blinkit-android16-ordertracking-activity-7396907715156955136-Tt7C/" class="ref-link" target="_blank">Blinkit Android 16 Implementation (LinkedIn)</a></li>
            </ul>
        </section>

        <!-- Roadmap -->
        <section style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);">
            <h2>Roadmap Reference</h2>
            <p>This feature is part of <strong>Initiative 2</strong> in the Stage App roadmap.</p>
            <p><a href="https://iammofidul.github.io/stage-roadmap/" class="ref-link" target="_blank" style="font-size: 1.1rem; font-weight: 600;">https://iammofidul.github.io/stage-roadmap/</a></p>
        </section>
    </div>

    <footer>
        <p>Stage App - Live Update Notifications | Last updated: February 2026</p>
    </footer>
</body>
</html>
