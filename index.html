<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STAGE App - Product Roadmap Q1 2026</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1A1A1A;
            --bg-secondary: #313131;
            --bg-card: #2a2a2a;
            --text-primary: #ffffff;
            --text-secondary: #c4c4c4;
            --text-muted: #858585;
            --accent-green: #258D58;
            --accent-green-light: #2ea66b;
            --accent-orange: #EFA73F;
            --accent-gold: #EFA735;
            --accent-blue: #00a8e8;
            --accent-green-bright: #00d665;
            --border-color: rgba(255,255,255,0.1);
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.4);
            --shadow-lg: 0 8px 32px rgba(0,0,0,0.5);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background:
                radial-gradient(circle at 20% 30%, rgba(37, 141, 88, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(239, 167, 63, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(0, 168, 232, 0.05) 0%, transparent 50%);
            animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 24px;
            position: relative;
            z-index: 1;
        }

        /* Hero Header */
        header {
            background: linear-gradient(135deg, #258D58 0%, #1e7046 50%, #165a36 100%);
            border-radius: 24px;
            padding: 60px 48px;
            margin-bottom: 48px;
            box-shadow: var(--shadow-lg), 0 0 60px rgba(37, 141, 88, 0.3);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.05) 50%, transparent 100%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        header h1 {
            font-size: 3.5em;
            font-weight: 900;
            margin-bottom: 16px;
            letter-spacing: -1px;
            text-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        header .subtitle {
            font-size: 1.3em;
            font-weight: 500;
            opacity: 0.95;
            margin-bottom: 24px;
        }

        header .meta {
            display: flex;
            gap: 32px;
            flex-wrap: wrap;
            font-size: 0.95em;
            opacity: 0.9;
        }

        header .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 32px;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent-green);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-orange));
        }

        .stat-value {
            font-size: 3em;
            font-weight: 900;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #ffffff, #a8b3cf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.95em;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Priority Section */
        .priority-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 48px;
            margin-bottom: 32px;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .priority-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 2px solid var(--border-color);
        }

        .priority-badge {
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 800;
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .priority-badge.p0 {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-green-light));
        }

        .priority-badge.p1 {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-gold));
        }

        .priority-badge.p2 {
            background: linear-gradient(135deg, var(--accent-green), #00e676);
        }

        .priority-title {
            font-size: 2em;
            font-weight: 800;
            flex-grow: 1;
            background: linear-gradient(135deg, #ffffff, #a8b3cf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .priority-timeline {
            padding: 8px 16px;
            background: var(--bg-card);
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9em;
            border: 1px solid var(--border-color);
        }

        .priority-description {
            font-size: 1.1em;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.8;
        }

        /* Metric Tags */
        .metric-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 16px 0;
        }

        .metric-tag {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75em;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: 1px solid;
            transition: all 0.2s;
        }

        .metric-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .metric-tag.retention {
            background: rgba(37, 141, 88, 0.15);
            border-color: rgba(37, 141, 88, 0.4);
            color: #2ea66b;
        }

        .metric-tag.growth {
            background: rgba(239, 167, 63, 0.15);
            border-color: rgba(239, 167, 63, 0.4);
            color: #EFA73F;
        }

        .metric-tag.primary {
            background: rgba(37, 141, 88, 0.3);
            border-color: var(--accent-green);
            border-width: 2px;
            font-weight: 700;
        }

        .metric-tag.primary.growth {
            background: rgba(239, 167, 63, 0.3);
            border-color: var(--accent-orange);
        }

        /* Initiative Card */
        .initiative-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 36px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .initiative-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(180deg, var(--accent-green), var(--accent-orange));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .initiative-card:hover {
            transform: translateX(4px);
            border-color: var(--accent-green);
            box-shadow: var(--shadow-md);
        }

        .initiative-card:hover::before {
            opacity: 1;
        }

        .initiative-card.critical::before {
            background: linear-gradient(180deg, var(--accent-green), var(--accent-green-light));
            opacity: 1;
        }

        .initiative-card.retention::before {
            background: linear-gradient(180deg, var(--accent-orange), #ffa726);
        }

        .initiative-card.growth::before {
            background: linear-gradient(180deg, var(--accent-green), #00e676);
        }

        .initiative-header {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 24px;
        }

        .initiative-number {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-green-light));
            color: white;
            min-width: 56px;
            height: 56px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.5em;
            box-shadow: var(--shadow-md);
            flex-shrink: 0;
        }

        .initiative-number.orange {
            background: linear-gradient(135deg, var(--accent-orange), var(--accent-gold));
        }

        .initiative-number.green {
            background: linear-gradient(135deg, #00d665, #00e676);
        }

        .initiative-title-block {
            flex: 1;
        }

        .initiative-title {
            font-size: 1.6em;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .initiative-meta {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 0.8em;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .badge-week {
            background: rgba(0, 168, 232, 0.15);
            color: var(--accent-blue);
            border: 1px solid rgba(0, 168, 232, 0.3);
        }

        .badge-team {
            background: rgba(37, 141, 88, 0.15);
            color: var(--accent-green-light);
            border: 1px solid rgba(37, 141, 88, 0.3);
        }

        .badge-impact {
            background: rgba(0, 214, 101, 0.15);
            color: var(--accent-green);
            border: 1px solid rgba(0, 214, 101, 0.3);
        }

        .badge-new {
            background: linear-gradient(135deg, var(--accent-green), var(--accent-green-light));
            color: white;
            animation: pulse-badge 2s infinite;
        }

        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* User Types */
        .user-types {
            background: rgba(255, 149, 0, 0.1);
            border: 1px solid rgba(255, 149, 0, 0.2);
            padding: 16px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .user-types h4 {
            font-size: 0.85em;
            color: var(--accent-orange);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .user-type-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .user-type-tag {
            background: rgba(255, 149, 0, 0.2);
            color: var(--accent-orange);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            border: 1px solid rgba(255, 149, 0, 0.3);
            font-family: 'Courier New', monospace;
        }

        /* Content Sections */
        .section-content {
            margin-top: 20px;
            line-height: 1.8;
        }

        .section-content h4 {
            font-size: 1.1em;
            font-weight: 700;
            margin-top: 24px;
            margin-bottom: 12px;
            color: var(--text-primary);
        }

        .section-content ul {
            margin-left: 24px;
            margin-top: 12px;
        }

        .section-content li {
            margin-bottom: 10px;
            color: var(--text-secondary);
        }

        .section-content li strong {
            color: var(--text-primary);
        }

        /* Metric Boxes */
        .metric-box {
            background: rgba(0, 214, 101, 0.1);
            border-left: 4px solid var(--accent-green);
            padding: 20px;
            border-radius: 12px;
            margin: 16px 0;
            font-size: 0.95em;
            line-height: 1.8;
        }

        .metric-box.warning {
            background: rgba(255, 149, 0, 0.1);
            border-left-color: var(--accent-orange);
        }

        .metric-box.danger {
            background: rgba(239, 167, 63, 0.1);
            border-left-color: var(--accent-orange);
        }

        .metric-box strong {
            color: var(--text-primary);
        }

        .feature-exists {
            background: rgba(0, 214, 101, 0.1);
            border: 1px solid rgba(0, 214, 101, 0.3);
            padding: 16px 20px;
            border-radius: 12px;
            margin: 16px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .feature-exists::before {
            content: '‚úì';
            font-size: 1.5em;
            color: var(--accent-green);
            font-weight: 900;
        }

        /* Amplitude Link */
        .amplitude-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #6a1b9a, #8e24aa);
            color: white !important;
            padding: 12px 24px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 16px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }

        .amplitude-link:hover {
            background: linear-gradient(135deg, #4a148c, #6a1b9a);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Summary Footer */
        .summary-footer {
            background: linear-gradient(135deg, #0a0e27 0%, #1a2244 100%);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 60px 48px;
            box-shadow: var(--shadow-lg);
        }

        .summary-title {
            font-size: 2.5em;
            font-weight: 900;
            margin-bottom: 40px;
            text-align: center;
            background: linear-gradient(135deg, #ffffff, #a8b3cf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .impact-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            padding: 32px 24px;
            border-radius: 16px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .impact-card:hover {
            transform: translateY(-4px);
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--accent-green);
        }

        .impact-value {
            font-size: 3em;
            font-weight: 900;
            margin-bottom: 12px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .impact-label {
            font-size: 0.95em;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .footer-meta {
            text-align: center;
            padding-top: 32px;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.9em;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--bg-card);
            border-radius: 6px;
            border: 2px solid var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-green);
        }

        /* Expandable Initiative Styles */
        .initiative-header {
            cursor: pointer;
            user-select: none;
            position: relative;
        }

        .initiative-header:hover {
            opacity: 0.9;
        }

        .expand-toggle {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .expand-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .expand-toggle::before {
            content: '‚ñº';
            font-size: 14px;
            color: var(--text-primary);
            transition: transform 0.3s ease;
        }

        .initiative-card.collapsed .expand-toggle::before {
            transform: rotate(-90deg);
        }

        .initiative-card .metric-tags {
            margin-top: 16px;
            margin-left: 76px;
        }

        .initiative-content {
            max-height: 5000px;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease, margin-top 0.3s ease;
            opacity: 1;
            margin-top: 12px;
        }

        .initiative-card.collapsed .initiative-content {
            max-height: 0;
            opacity: 0;
            margin-top: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 24px 16px; }
            header { padding: 40px 24px; }
            header h1 { font-size: 2.5em; }
            .priority-section { padding: 32px 24px; }
            .initiative-card { padding: 24px; }
            .priority-header { flex-direction: column; align-items: flex-start; }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <div class="container">
        <!-- Hero Header -->
        <header>
            <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                <img src="https://media.stage.in/static/stage_logo_horizontal.webp" alt="STAGE Logo" style="height: 48px;">
                <h1 style="margin: 0;">Product Roadmap Q1 2026</h1>
            </div>
            <div class="subtitle">Drive Retention ‚Üí Boost Consumption ‚Üí Scale Growth</div>
            <div class="meta">
                <div class="meta-item">
                    <span>üìÖ</span>
                    <span><strong>Timeline:</strong> 6 Weeks (1.5 Months)</span>
                </div>
                <div class="meta-item">
                    <span>üë•</span>
                    <span><strong>Team:</strong> 7 Flutter Developers</span>
                </div>
                <div class="meta-item">
                    <span>üéØ</span>
                    <span><strong>Focus:</strong> Trial Retention & Consumption</span>
                </div>
                <div class="meta-item">
                    <span>‚úÖ</span>
                    <span><strong>Status:</strong> Optimized & Ready</span>
                </div>
            </div>
        </header>

        <!-- T-Shirt Sizing Legend -->
        <div style="background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%); border-radius: 16px; padding: 24px 32px; margin-bottom: 32px; border: 1px solid rgba(255,255,255,0.1);">
            <h3 style="font-size: 1.3em; margin-bottom: 16px; font-weight: 700;">üìè Effort Estimation Guide</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px;">
                <div style="background: rgba(99, 102, 241, 0.15); padding: 12px 16px; border-radius: 8px; border-left: 3px solid #6366f1;">
                    <strong style="font-size: 1.1em;">XS</strong> <span style="opacity: 0.7;">/ &lt;1 day</span>
                </div>
                <div style="background: rgba(34, 197, 94, 0.15); padding: 12px 16px; border-radius: 8px; border-left: 3px solid #22c55e;">
                    <strong style="font-size: 1.1em;">S</strong> <span style="opacity: 0.7;">/ 1-2 days</span>
                </div>
                <div style="background: rgba(59, 130, 246, 0.15); padding: 12px 16px; border-radius: 8px; border-left: 3px solid #3b82f6;">
                    <strong style="font-size: 1.1em;">M</strong> <span style="opacity: 0.7;">/ 3-5 days</span>
                </div>
                <div style="background: rgba(249, 115, 22, 0.15); padding: 12px 16px; border-radius: 8px; border-left: 3px solid #f97316;">
                    <strong style="font-size: 1.1em;">L</strong> <span style="opacity: 0.7;">/ 6-10 days</span>
                </div>
                <div style="background: rgba(239, 68, 68, 0.15); padding: 12px 16px; border-radius: 8px; border-left: 3px solid #ef4444;">
                    <strong style="font-size: 1.1em;">XL</strong> <span style="opacity: 0.7;">/ 11-14 days</span>
                </div>
            </div>
        </div>

        <!-- Key Metrics Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">36%</div>
                <div class="stat-label">Current TCR Android (116K cancellations/month)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">15%</div>
                <div class="stat-label">PSP Save Rate (18K trials/month)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">2.5K</div>
                <div class="stat-label">Resume Notification Saves/Month</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">+6.15L</div>
                <div class="stat-label">MRR Impact from TCR Reduction</div>
            </div>
        </div>

        <!-- P0: Critical Priority -->
        <div class="priority-section">
            <div class="priority-header">
                <span class="priority-badge p0">
                    <span>üî•</span>
                    <span>P0 - Critical</span>
                </span>
                <h2 class="priority-title">Trial Retention & Consumption Drivers</h2>
                <span class="priority-timeline">Weeks 1-6</span>
            </div>

            <p class="priority-description">
                <strong>Mission:</strong> Reduce trial cancellation (especially PSP-initiated) and maximize content consumption. Every percentage point saved = Direct revenue impact.
            </p>

            <!-- Key Metrics Section -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px;">
                <!-- Retention Metrics -->
                <div style="background: linear-gradient(135deg, rgba(37, 141, 88, 0.1) 0%, rgba(37, 141, 88, 0.05) 100%); border: 2px solid rgba(37, 141, 88, 0.3); border-radius: 16px; padding: 24px;">
                    <h3 style="color: var(--accent-green); font-size: 1.5em; margin-bottom: 16px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.3em;">üîÑ</span>
                        <span>RETENTION Metrics</span>
                    </h3>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            üìä Month 0 Watchers/% ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            ‚ö° Habit Moment % ‚Üë <span style="color: #BEBEBE; font-weight: 400;">(8 days consecutive)</span>
                        </div>
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            üìÖ Week 4 Watchers/% ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            üîÅ Renewal Rate ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            üìà Month 1 Watcher/% ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            üò¥ Dormants Watcher/% ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(37, 141, 88, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-green);">
                            üîÑ Re Acquisition/% ‚Üë
                        </div>
                    </div>
                </div>

                <!-- Growth Metrics -->
                <div style="background: linear-gradient(135deg, rgba(239, 167, 63, 0.1) 0%, rgba(239, 167, 63, 0.05) 100%); border: 2px solid rgba(239, 167, 63, 0.3); border-radius: 16px; padding: 24px;">
                    <h3 style="color: var(--accent-orange); font-size: 1.5em; margin-bottom: 16px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.3em;">üöÄ</span>
                        <span>GROWTH Metrics</span>
                    </h3>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="padding: 10px 14px; background: rgba(239, 167, 63, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-orange);">
                            üìà Trial Rate (TRT) ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(239, 167, 63, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-orange);">
                            ‚ö†Ô∏è D‚ÇÄ(TCR) ‚Üì <span style="color: #BEBEBE; font-weight: 400;">(Day 0 Trial Cancellation)</span>
                        </div>
                        <div style="padding: 10px 14px; background: rgba(239, 167, 63, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-orange);">
                            üìä D‚ÇÅ(Retention) ‚Üë <span style="color: #BEBEBE; font-weight: 400;">(Day 1 Return)</span>
                        </div>
                        <div style="padding: 10px 14px; background: rgba(239, 167, 63, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-orange);">
                            üí° AHA Moment ‚Üë <span style="color: #BEBEBE; font-weight: 400;">(4 days consecutive)</span>
                        </div>
                        <div style="padding: 10px 14px; background: rgba(239, 167, 63, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-orange);">
                            üí≥ Subscription/Rate ‚Üë
                        </div>
                        <div style="padding: 10px 14px; background: rgba(239, 167, 63, 0.1); border-radius: 8px; font-size: 0.9em; font-weight: 600; border-left: 3px solid var(--accent-orange);">
                            üîÑ Re Activation/% ‚Üë
                        </div>
                    </div>
                </div>
            </div>

            <div class="metric-box" style="background: rgba(37, 141, 88, 0.1); border-left-color: var(--accent-green); margin-bottom: 32px;">
                <strong>üéØ P0 Focus (6 Initiatives) - TCR Reduction + Viral Growth:</strong><br>
                #1: PSP Cancellation Prevention (App-Side) - 18K saved trials/month from 120K PSP cancellations (Notification ‚Üí FOMO Journey ‚Üí Content Blocked ‚Üí Resume/Reactivate)<br>
                #2: Resume Watching Notifications - 2.5K saved trials/month from incomplete sessions<br>
                #3: Microdrama Discovery Promotion - Improve engagement to reduce churn<br>
                #4: Watchlist Expansion - Increase content investment to reduce churn<br>
                #5: Binge Leaderboard (WOW FACTOR) - Competitive gamification + One-time reward: FREE subscription for 7-day streak OR Top 500 üéÅ<br>
                #6: AI Mood Curator (WOW FACTOR) - Emotional discovery, +45% content discovery rate<br>
                #11: Community Watch Challenges (WOW FACTOR) - Viral gamification, +45% WAU, +30% consumption
            </div>

            <!-- Team Capacity Summary -->
            <div class="initiative-card" style="background: linear-gradient(135deg, rgba(37, 141, 88, 0.1) 0%, rgba(0, 168, 232, 0.1) 100%); border: 2px solid var(--accent-green);">
                <h2 style="margin-bottom: 20px; color: var(--accent-green); font-size: 1.8em;">üìä Team Capacity & Timeline</h2>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; border-left: 4px solid var(--accent-green);">
                        <div style="font-size: 2em; font-weight: bold; color: var(--accent-green);">7</div>
                        <div style="color: var(--text-muted);">Developers</div>
                    </div>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; border-left: 4px solid var(--accent-blue);">
                        <div style="font-size: 2em; font-weight: bold; color: var(--accent-blue);">210</div>
                        <div style="color: var(--text-muted);">Total Dev-Days</div>
                    </div>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; border-left: 4px solid var(--accent-orange);">
                        <div style="font-size: 2em; font-weight: bold; color: var(--accent-orange);">176</div>
                        <div style="color: var(--text-muted);">Required Effort</div>
                    </div>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; border-left: 4px solid var(--accent-green);">
                        <div style="font-size: 2em; font-weight: bold; color: var(--accent-green);">16%</div>
                        <div style="color: var(--text-muted);">Buffer (34 days)</div>
                    </div>
                </div>
            </div>

            <!-- Initiative 1: Trial Cancellation Reduction -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">1</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">PSP Cancellation Prevention (App-Side)</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new">üÜï HIGHEST PRIORITY</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(249, 115, 22, 0.3); padding: 2px 6px; border-radius: 4px; color: #f97316;">L</strong> / Week 1-3 (14 days)
                            <span class="badge badge-team">üë• 2 Developers</span>
                            <span class="badge badge-impact">üìà 18K Saves/Month</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag growth primary">‚ö†Ô∏è D‚ÇÄ(TCR) ‚Üì</span>
                    <span class="metric-tag growth">üìä D‚ÇÅ(Retention) ‚Üë</span>
                    <span class="metric-tag growth">üîÑ Re Activation ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Intercepts PSP cancellations with push notifications and FOMO content to prevent Day 0 churn and reactivate users who cancelled outside the app.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">trial_mandate_paused</span>
                        <span class="user-type-tag">trial_mandate_revoked</span>
                        <span class="user-type-tag">subscription_over</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üìä Current Amplitude Data (Critical Problem)</h4>
                    <div class="metric-box danger">
                        <strong>üö® HIGHEST PRIORITY ISSUE</strong><br>
                        <strong>Overall Trial Cancellation Rate (TCR):</strong> 36.28% of trial users cancel within 1 day of activation<br>
                        <strong>Last 30 Days (Android):</strong> 115,925 cancellations out of 319,545 trial activations<br>
                        <strong>Recent Daily TCR:</strong> 36-38% (Jan 27-30: 35.99%, 37.08%, 36.31%, 37.62%)<br>
                        <strong>Date Range:</strong> Jan 3 - Feb 2, 2026<br>
                        <strong>Scale:</strong> ~3,860 cancellations per day (Android only)<br><br>
                        <strong>‚ö†Ô∏è THE REAL PROBLEM:</strong> Most users cancel mandate from PhonePe/Paytm apps directly (bypassing STAGE app retention flows)
                    </div>

                    <a href="https://app.amplitude.com/analytics/STAGEAPP/chart/new/8zwqmk1r" target="_blank" class="amplitude-link">
                        üîó View TCR Funnel (trial_activated ‚Üí All Mandate Pause and Revoke)
                    </a>

                    <div class="feature-exists" style="margin-top: 20px;">
                        <strong>What Already Exists:</strong> In-app cancellation flow with exit survey, retention dialogs (PauseTrialBenefitDialog, PauseTrialPrideDialog), pause/resume mandate API, analytics tracking, A/B testing, auto-play next video (WatchNextNudge)
                    </div>

                    <div class="feature-exists">
                        <strong>Backend Ready:</strong> Webhook already detects PSP cancellation events from PhonePe/Paytm
                    </div>

                    <h4>üéØ Why This is P0 (Highest Priority)?</h4>
                    <ul>
                        <li><strong>PSP Cancellations Bypass App:</strong> Users cancel mandate directly in PhonePe/Paytm ‚Üí never see STAGE retention dialogs</li>
                        <li><strong>Majority of Cancellations:</strong> ~94% of mandate cancellations happen via PSP apps, not STAGE app</li>
                        <li><strong>Lost Save Opportunities:</strong> Backend detects PSP cancellation, but app doesn't respond or attempt to save user</li>
                        <li><strong>No Re-engagement:</strong> Users who cancel via PSP have no path back to resume subscription</li>
                    </ul>

                    <h4>üîç The Gap: App-Side PSP Cancellation Handling</h4>
                    <ul>
                        <li><strong>Missing Event Listener:</strong> App doesn't listen for PSP cancellation events from backend</li>
                        <li><strong>Missing Push Notifications:</strong> No notification sent when PSP cancellation detected</li>
                        <li><strong>Missing Deep Links:</strong> No way to bring user back to app from PSP notification</li>
                        <li><strong>Missing Save Flow:</strong> No retention dialog shown when user returns after PSP cancellation</li>
                        <li><strong>Analytics Gap:</strong> cancellation_source doesn't distinguish 'phonePe', 'paytm', 'stage_app'</li>
                    </ul>

                    <h4>‚úÖ What We'll Build (App-Side Implementation)</h4>

                    <div class="metric-box" style="background: rgba(36, 139, 59, 0.1); border-left-color: #248b3b; margin: 15px 0 20px 0;">
                        <strong>üì± Wireframe:</strong> <a href="psp-cancellation-prevention-wireframe.html" target="_blank" style="color: #248b3b; font-weight: 600; text-decoration: underline;">View Interactive Wireframe + WhatsApp Message Copy ‚Üí</a><br>
                        <span style="font-size: 13px; color: #BEBEBE;">Two retention flows (7 screens) + üí¨ WhatsApp Message Templates (3 templates with full copy): Trial Paused/Revoked (4 screens) & Subscription Expired (3 screens) - Notification ‚Üí FOMO Journey ‚Üí Content Blocked ‚Üí CTA</span>
                    </div>

                    <p style="margin-top: 15px;"><strong>Phase 1: Multi-Channel Notification System (3 days)</strong></p>
                    <ul>
                        <li><strong>Day 1-2: Push Notification + WhatsApp Implementation</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Push Notification - Trial Paused/Revoked:</strong> Title: "Trial Paused", Body: "You can not watch any STAGE content"</li>
                                <li><strong>Push Notification - Subscription Expired:</strong> Title: "Subscription Expired", Body: "You can not watch any STAGE content"</li>
                                <li><strong>Trigger Logic:</strong> Backend webhook detects pause/revoke/expire ‚Üí Send notification within 5 minutes</li>
                                <li><strong>Deep Link:</strong> stage://retention-flow?type=trial_paused|trial_revoked|subscription_expired&source=app|psp</li>
                            </ul>
                        </li>
                        <li><strong>Day 3: Multi-Channel Analytics</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>retention_notification_sent</code> - Track delivery (type, source, channel: push/whatsapp)</li>
                                <li><code>retention_notification_clicked</code> - Track taps (channel: push/whatsapp)</li>
                                <li><code>retention_deep_link_opened</code> - Track deep link success (channel)</li>
                                <li><code>whatsapp_message_delivered</code> - Track WhatsApp delivery success</li>
                                <li><code>whatsapp_message_read</code> - Track WhatsApp read receipts</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 2: WhatsApp Integration (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: WhatsApp Message Templates + Backend Integration</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Template Creation:</strong> 3 WhatsApp message templates (Trial Paused, Trial Revoked, Subscription Expired)</li>
                                <li><strong>üì± See Full Message Copy:</strong> <a href="psp-cancellation-prevention-wireframe.html" target="_blank" style="color: #248b3b; font-weight: 600; text-decoration: underline;">View WhatsApp Message Templates in Wireframe ‚Üí</a></li>
                                <li>Format messages with emojis, FOMO content (Bideshi Bahu, Meera, Hasir Raja), social proof (2.1M watching)</li>
                                <li>Add deep link CTAs: "Resume your trial now" / "Reactivate your trial" / "Reactivate subscription"</li>
                                <li><strong>Backend API Integration:</strong> Connect to WhatsApp Business API for message delivery</li>
                                <li>Configure fallback logic: If push not opened after 30 min ‚Üí Send WhatsApp</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Testing + Analytics</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test WhatsApp message delivery, read receipts, deep link clicks</li>
                                <li>Test fallback timing (30 min delay after push)</li>
                                <li>Implement analytics: whatsapp_message_delivered, whatsapp_message_read, whatsapp_link_clicked</li>
                                <li>Test different phone number formats, international numbers, opt-out handling</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 3: FOMO Journey Screen (3 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Popular Content Section</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Horizontal List:</strong> "Popular Shows You Haven't Watched" (Netflix-style scroll)</li>
                                <li>Show 4+ cards with trending badges (üî• TRENDING #1, ‚≠ê POPULAR)</li>
                                <li>Display social proof: viewer counts (2.1M watching)</li>
                                <li>Use real show names: Bideshi Bahu, Hasir Raja, Meera, Rani Rashmoni</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Upcoming Content Section</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Horizontal List:</strong> "Upcoming Shows & Movies" with ‚è∞ Coming Soon badge</li>
                                <li>Show premiere dates (üî• TOMORROW 8PM, üìÖ NEW SERIES)</li>
                                <li>Display expected viewer counts (2.8M expected)</li>
                                <li>Create urgency with countdown badges and premiere timings</li>
                            </ul>
                        </li>
                        <li><strong>Day 3: Interaction & Analytics</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>User Action:</strong> When user taps any content card ‚Üí Navigate to content blocked screen</li>
                                <li><code>retention_fomo_shown</code> - Track FOMO journey view (type, source)</li>
                                <li><code>retention_fomo_content_clicked</code> - Track content card taps</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 4: Content Blocked Screens (4 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Trial Paused (App) Screen</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Status Badge:</strong> ‚ö†Ô∏è Paused from App (yellow badge)</li>
                                <li><strong>CTA Button:</strong> "‚ñ∂Ô∏è Resume" (green, low friction)</li>
                                <li><strong>Missing Content List:</strong> Bideshi Bahu finale (tomorrow), Meera premiere, Hasir Raja, 100+ shows</li>
                                <li><strong>Action:</strong> Resume button ‚Üí Call paymentRepository.resumePlan() ‚Üí Show restart_subscription_popup.dart</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Trial Revoked (PSP) Screen</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Status Badge:</strong> ‚õî Revoked from PSP (red badge)</li>
                                <li><strong>CTA Button:</strong> "üîÑ Reactivate Trial" (red, high friction)</li>
                                <li><strong>Helper Text:</strong> "Setup payment mandate via PhonePe/Paytm to continue watching"</li>
                                <li><strong>Action:</strong> Reactivate button ‚Üí Deeplink stage://resume/har/hin/payment?planId=X ‚Üí Opens PhonePe/Paytm</li>
                            </ul>
                        </li>
                        <li><strong>Day 3: Subscription Expired (PSP) Screen</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Status Badge:</strong> ‚õî Expired (red badge)</li>
                                <li><strong>CTA Button:</strong> "üîÑ Reactivate Subscription" (red, high friction)</li>
                                <li><strong>Helper Text:</strong> "Setup mandate via PhonePe/Paytm to reactivate"</li>
                                <li><strong>Note:</strong> No app-side resume for expired subscriptions (not supported in current system)</li>
                            </ul>
                        </li>
                        <li><strong>Day 4: Analytics & Integration</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>retention_blocked_shown</code> - Track blocked screen views (type, source)</li>
                                <li><code>retention_resume_clicked</code> - Track app-side resume button taps</li>
                                <li><code>retention_reactivate_clicked</code> - Track PSP reactivation button taps</li>
                                <li><code>trial_resumed</code> - Track successful app-side resume</li>
                                <li><code>trial_activated</code> (is_reactivated: true) - Track PSP reactivation success</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 5: Integration Testing (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Flow Testing - Trial Paused/Revoked (Push + WhatsApp)</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test Flow 1: App pause ‚Üí Push notification ‚Üí FOMO ‚Üí Content blocked ‚Üí Resume ‚Üí Success</li>
                                <li>Test Flow 2: PSP revoke ‚Üí Push notification ‚Üí FOMO ‚Üí Content blocked ‚Üí Reactivate ‚Üí PhonePe deeplink</li>
                                <li>Test WhatsApp fallback: Push not opened ‚Üí WhatsApp sent after 30 min ‚Üí Deep link works</li>
                                <li>Verify notification variants (Trial Paused vs Trial Revoked)</li>
                                <li>Test different PSP sources (PhonePe vs Paytm)</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Flow Testing - Subscription Expired & Edge Cases</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test Flow 3: Subscription expired ‚Üí Push/WhatsApp ‚Üí FOMO ‚Üí Content blocked ‚Üí Reactivate ‚Üí PSP deeplink</li>
                                <li>Test WhatsApp delivery: Message sent ‚Üí Delivered confirmation ‚Üí Read receipt ‚Üí Link clicked</li>
                                <li>Test notification delivery failures (no internet, permissions off)</li>
                                <li>Test deep link errors (app not installed, malformed URLs)</li>
                                <li>Verify all analytics events fire correctly for all 3 flows (push + WhatsApp)</li>
                                <li>Regression test existing in-app cancellation flow</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>üìà Expected Impact</h4>
                    <div class="metric-box">
                        <strong>Conservative Estimate:</strong><br>
                        <strong>PSP Cancellation Save Rate: 15-20%</strong> (industry benchmark for push notification + retention dialog)<br>
                        <strong>Multi-Channel Boost:</strong> WhatsApp fallback can increase reach by 20-30% (users with push disabled/ignored)<br><br>
                        <strong>Math (Based on Actual 36.28% TCR - Android Only):</strong><br>
                        - <strong>Total cancellations: ~116K/month</strong> (319K trial activations √ó 36.28% TCR)<br>
                        - <strong>PSP cancellations: ~81K/month</strong> (70% of total, bypass STAGE app)<br>
                        - <strong>In-app cancellations: ~35K/month</strong> (30% of total, see retention flow)<br><br>
                        <strong>PSP Save Initiative Impact:</strong><br>
                        - Save rate: 15% (conservative) = <strong>12,150 saved trials/month</strong><br>
                        - Save rate: 20% (optimistic) = <strong>16,200 saved trials/month</strong><br>
                        - Using conservative 15%: <strong>12K saved trials/month (Android)</strong><br><br>
                        <strong>Revenue Impact (Conservative 15%):</strong><br>
                        - Saved trials: 18,000/month<br>
                        - D7 retention rate: 30% = 5,400 retained to D7<br>
                        - Trial-to-paid conversion: 20% = 1,080 additional paid subscribers/month<br>
                        - ARPU: ‚Çπ499/month<br>
                        - <strong>MRR Impact: +‚Çπ5.4 Lakhs/month (~‚Çπ64.8 Lakhs ARR)</strong><br><br>
                        <strong>Why This Works:</strong><br>
                        - Push notification open rate: 40-50% (immediate after cancellation)<br>
                        - Personalized content reminder: 30-40% engagement<br>
                        - Low-friction resume (1-tap) vs high-friction re-subscribe<br>
                        - Catches users in impulse cancellation moment
                    </div>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 14 days (3 days push notification + 2 days WhatsApp integration + 3 days FOMO journey + 4 days blocked screens + 2 days integration tests)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> retention_notification_clicked (channel: push/whatsapp), whatsapp_message_delivered, whatsapp_message_read, retention_fomo_shown, retention_blocked_shown, retention_resume_clicked, retention_reactivate_clicked, trial_resumed, trial_activated (is_reactivated: true), trial_cancellation_rate (target: 36% ‚Üí 30% Android)</p>
                    <p style="margin-top: 5px;"><strong>üì± WhatsApp Strategy:</strong> Send WhatsApp 30 min after push if not opened. Includes FOMO content (Bideshi Bahu finale, 2.1M watching) + urgency (X days left) + direct CTA with deep link</p>
                    <p style="margin-top: 5px;"><strong>üß™ Future Experiments:</strong> WhatsApp vs Push effectiveness, FOMO content order (popular-first vs upcoming-first), Notification timing (immediate vs 5min vs 10min delay), CTA copy variants (fear vs benefit)</p>
                    <p style="margin-top: 5px;"><strong>üìä Reference Code:</strong> motivator_popup.dart, resume_subscription_banner.dart, trial_mandate_resume_psp.dart, restart_subscription_popup.dart</p>
                </div>
                </div>
            </div>

            <!-- Initiative 2: Resume Watching Notifications -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">2</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Resume Watching Notifications (Rich Notification)</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new">üÜï TCR REDUCER</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(249, 115, 22, 0.3); padding: 2px 6px; border-radius: 4px; color: #f97316;">L</strong> / Week 1-2 (8 days)</span>
                            <span class="badge badge-team">üë• 2 Developers</span>
                            <span class="badge badge-impact">üìà 2.5K Saves/Month</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag growth primary">üìä D‚ÇÅ(Retention) ‚Üë</span>
                    <span class="metric-tag retention">üìä Month 0 Watchers ‚Üë</span>
                    <span class="metric-tag growth">üí° AHA Moment ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Reminds users to finish incomplete sessions via rich notifications, bringing them back next day and increasing early consumption to drive consecutive viewing days.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">trial_active</span>
                        <span class="user-type-tag">subscription_active</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üìä Current Problem</h4>
                    <div class="metric-box warning">
                        <strong>Problem:</strong> When users lock device during video playback, they often forget to return and finish watching<br>
                        <strong>Impact:</strong> Incomplete sessions ‚Üí Lower engagement ‚Üí Higher trial cancellation<br>
                        <strong>Current State:</strong> No re-engagement mechanism when user locks device from video player
                    </div>

                    <h4>üéØ Why This Reduces TCR?</h4>
                    <ul>
                        <li><strong>Prevents Drop-offs:</strong> Users who lock device mid-video often don't return ‚Üí Becomes lapsed user ‚Üí Cancels trial</li>
                        <li><strong>Re-engagement Window:</strong> Rich notification brings user back within 10-30 minutes (highest engagement window)</li>
                        <li><strong>Completion Driver:</strong> Users who finish content have 35% higher D7 retention vs incomplete viewers</li>
                        <li><strong>Top-of-Mind Awareness:</strong> Notification keeps STAGE visible ‚Üí Reduces "forgot about subscription" cancellations</li>
                    </ul>

                    <h4>‚úÖ What We'll Build</h4>

                    <div class="metric-box" style="background: rgba(36, 139, 59, 0.1); border-left-color: #248b3b; margin: 15px 0 20px 0;">
                        <strong>üì± Wireframe:</strong> <a href="resume-watching-notifications-wireframe.html" target="_blank" style="color: #248b3b; font-weight: 600; text-decoration: underline;">View Interactive Wireframe ‚Üí</a><br>
                        <span style="font-size: 13px; color: #BEBEBE;">See the complete notification flow: Lock screen ‚Üí Expanded notification ‚Üí Resume playback</span>
                    </div>

                    <p style="margin-top: 15px;"><strong>Phase 1: Device Lock Detection (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Lock Event Listener</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Detect when user locks device while video is playing (WidgetsBindingObserver lifecycle)</li>
                                <li>Capture current playback state: contentId, contentTitle, currentPosition, totalDuration</li>
                                <li>Track if video is >10% watched (ignore accidental locks)</li>
                                <li>Store resume data in local preferences</li>
                                <li>Smart notification timing: 5min vs 10min vs 30min delays</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Events Instrumentation</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>device_locked_during_playback</code> - Track lock events with contentId, watchedPercentage, timeSinceSessionStart</li>
                                <li><code>resume_notification_eligible</code> - Track when notification criteria met</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 2: Rich Notification + Deep Link (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Notification UI</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Title: "Continue watching [Show Name]?"</li>
                                <li>Body: "You left off at [XX:XX]. Tap to resume where you left off üé¨"</li>
                                <li>Thumbnail: Show/movie poster image</li>
                                <li>Progress bar: Visual indicator of watch position</li>
                                <li>Primary action: "Resume" ‚Üí Deep link to exact video position</li>
                                <li>Route: stage://resume-watching?contentId=xxx&position=xxx</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Analytics Events</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>resume_notification_sent</code> - Track notification sent with contentId, lockDuration</li>
                                <li><code>resume_notification_clicked</code> - Track notification taps with timeToTap</li>
                                <li><code>playback_resumed_from_notification</code> - Track successful resume with resumePosition</li>
                                <li><code>playback_completed_after_resume</code> - Track completion after resume</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 3: Experimentation Setup (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: A/B Test Configuration</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Notification Timing Variants:</strong></li>
                                <li style="margin-left: 20px;">Variant A: Send after 5 min delay</li>
                                <li style="margin-left: 20px;">Variant B: Send after 10 min delay (control)</li>
                                <li style="margin-left: 20px;">Variant C: Send after 30 min delay</li>
                                <li><strong>Copy Variants:</strong></li>
                                <li style="margin-left: 20px;">Variant A: "Continue watching [Show]" (control)</li>
                                <li style="margin-left: 20px;">Variant B: "Finish [Show]"</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Experiment Tracking</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Configure experiment cohorts</li>
                                <li>Track experiment assignment events</li>
                                <li>Set up conversion funnels per variant</li>
                                <li>Target metrics: notification open rate, resume rate, completion rate</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 4: Integration Testing (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: End-to-End Flow Testing</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test full flow: Video playback ‚Üí lock device ‚Üí notification sent ‚Üí notification clicked ‚Üí playback resumed</li>
                                <li>Verify all analytics events fire correctly</li>
                                <li>Test experiment variant assignment</li>
                                <li>Test notification timing variants (5min, 10min, 30min)</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Edge Cases Testing</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test notification permissions off</li>
                                <li>Test deep link failures (app killed, invalid content)</li>
                                <li>Test rapid lock/unlock cycles</li>
                                <li>Test video completion before notification sent</li>
                                <li>Test multiple content locks (should prioritize most recent)</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>üìà Expected Impact</h4>
                    <div class="metric-box">
                        <strong>Conservative Estimate:</strong><br>
                        <strong>Resume Rate from Notification: 25-30%</strong> (industry benchmark for rich media notifications)<br><br>
                        <strong>Math (Based on Actual 36.28% TCR - Android Only):</strong><br>
                        - <strong>Total cancellations: ~116K/month</strong> (319K trial activations √ó 36.28% TCR)<br>
                        - Users who lock device mid-video: ~15% of sessions (incomplete drop-offs)<br>
                        - Incomplete sessions that lead to cancellation: ~17.4K/month (15% of 116K)<br>
                        - Notification open rate: 40% = 6,960 opens<br>
                        - Resume rate: 25% of opens = <strong>1,740 saved trials/month (1.7K Android)</strong><br><br>
                        <strong>Revenue Impact:</strong><br>
                        - Saved trials: 1,740/month<br>
                        - D7 retention rate: 30% = 522 retained to D7<br>
                        - Trial-to-paid conversion: 20% = 104 additional paid subscribers/month<br>
                        - ARPU: ‚Çπ499/month<br>
                        - <strong>MRR Impact: +‚Çπ75K/month (~‚Çπ9 Lakhs ARR)</strong><br><br>
                        <strong>Why This Works:</strong><br>
                        - Catches users in active session (not days later)<br>
                        - Low friction: 1-tap resume vs finding show again<br>
                        - Personalized: Show exactly what they were watching<br>
                        - Creates habit: Users learn they can lock/resume easily
                    </div>

                    <div class="feature-exists">
                        <strong>Note:</strong> Basic notification system exists. Need to add: Device lock detection, rich notification UI, deep link handler, resume state management
                    </div>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 8 days (2 days detection + 2 days notification + 2 days experiments + 2 days integration tests)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> resume_notification_sent, resume_notification_clicked (target: 40%), playback_resumed_from_notification (target: 25%), incomplete_session_cancellation_rate (reduce by 10%)</p>
                    <p style="margin-top: 5px;"><strong>üß™ Experiments:</strong> Notification timing (5min vs 10min vs 30min), Copy variants (Continue vs Finish)</p>
                </div>
                </div>
            </div>

            <!-- Initiative 3: Micro Drama -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">3</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Microdrama Engagement Boost (Comprehensive)</div>
                        <div class="initiative-meta">
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(249, 115, 22, 0.3); padding: 2px 6px; border-radius: 4px; color: #f97316;">L</strong> / Week 1-3 (11 days)</span>
                            <span class="badge badge-team">üë• 2 Developers</span>
                            <span class="badge badge-impact">üìà +13pp Starts, 2.1x Episodes</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag retention primary">üìä Month 0 Watchers ‚Üë</span>
                    <span class="metric-tag growth">üí° AHA Moment ‚Üë</span>
                    <span class="metric-tag growth">üìä D‚ÇÅ(Retention) ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Short 4-minute episodes enable multiple watches per day, driving early consumption and faster value realization through the AHA moment (4 consecutive viewing days).
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">subscription_active</span>
                        <span class="user-type-tag">trial_active</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üìä Current Amplitude Data</h4>
                    <div class="metric-box warning">
                        <strong>Home Landing ‚Üí Micro Drama Playback Started:</strong> 22.32% (243,768 users ‚Üí 54,402 started)<br>
                        <strong>Problem:</strong> 77.68% of users DON'T discover micro drama<br>
                        <strong>Trend:</strong> Declining from 16% (early Jan) ‚Üí 12-15% (mid Jan) ‚Üí 14% (recent)
                    </div>

                    <a href="https://app.amplitude.com/analytics/STAGEAPP/chart/7njdmw9s/edit/o0bzlcag" target="_blank" class="amplitude-link">
                        üîó View Micro Drama Start Funnel
                    </a>

                    <div class="feature-exists">
                        <strong>Microdrama Filter Already Exists:</strong> FilterType.microdrama enum, Top 10 Microdramas section, Trending Microdramas section, genre-wise microdramas, filter toggle in ContentFilterCubit, integration tests passing
                    </div>

                    <div class="feature-exists">
                        <strong>Already Exists:</strong> Microdrama rows (DynamicHomeRow), Continue Watching (exists), Binge Auto-Play (in progress)
                    </div>

                    <h4>‚úÖ What We'll Build (4 Tasks)</h4>

                    <div class="metric-box" style="background: rgba(36, 139, 59, 0.1); border-left-color: #248b3b; margin: 15px 0 20px 0;">
                        <strong>üì± Wireframe:</strong> <a href="microdrama-engagement-boost-wireframe.html" target="_blank" style="color: #248b3b; font-weight: 600; text-decoration: underline;">View Interactive Wireframe ‚Üí</a><br>
                        <span style="font-size: 13px; color: #BEBEBE;">See PiP auto-play, filter-based Top 10 banner, personalized recommendations, and push notifications</span>
                    </div>

                    <p style="margin-top: 15px;"><strong>Task 1: In-App PiP for Microdrama Auto-Play (3 days)</strong></p>
                    <ul>
                        <li><strong>PiP Position:</strong> Left bottom corner of home screen (no filter applied)</li>
                        <li><strong>Content Logic:</strong> Show most popular microdrama OR last incomplete microdrama</li>
                        <li><strong>Auto-Play:</strong> Start playback automatically when user lands on home (muted initially)</li>
                        <li><strong>Tap to Expand:</strong> Tap PiP to open full-screen player</li>
                        <li><strong>Close Button:</strong> Dismiss PiP if user not interested</li>
                        <li><strong>Track:</strong> pip_microdrama_shown, pip_auto_play_started, pip_expanded_to_fullscreen, pip_dismissed, pip_conversion_rate</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 2: Personalized Microdrama Recommendations (2 days)</strong></p>
                    <ul>
                        <li><strong>New Row:</strong> "Microdramas You'll Love" on home screen (when Microdrama filter applied)</li>
                        <li><strong>Personalization:</strong> Based on viewing history (genre affinity, completion rate, watch time)</li>
                        <li><strong>Backend:</strong> Query recommendation API with content_type=microdrama filter</li>
                        <li><strong>Track:</strong> personalized_microdrama_shown, personalized_microdrama_clicked, personalized_conversion_rate</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 3: Push Notification for New Microdrama Launches (2 days)</strong></p>
                    <ul>
                        <li><strong>Weekly Push:</strong> "New Microdrama: [Series Name] üé¨ - Watch all episodes now"</li>
                        <li><strong>Personalized Notification:</strong> Segment by genre preference from watch history</li>
                        <li><strong>Deep Link:</strong> Opens specific new microdrama series page to start watching</li>
                        <li><strong>Track:</strong> new_microdrama_notification_sent, new_microdrama_notification_clicked, notification_to_playback_rate</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 4: "Top 10 Microdramas This Week" Banner - Filter-Based Widget (Already Exists)</strong></p>
                    <ul>
                        <li><strong>Existing Widget:</strong> Already implemented - appears when Microdrama filter is applied</li>
                        <li><strong>Hero Banner:</strong> Prominent at top of home screen (only when Microdrama filter active)</li>
                        <li><strong>Content:</strong> Most-watched microdramas with view count (social proof)</li>
                        <li><strong>UI:</strong> Horizontal carousel with thumbnails + "Trending" badge</li>
                        <li><strong>Backend:</strong> Query top 10 microdramas by view count (last 7 days)</li>
                        <li><strong>Track:</strong> top10_microdrama_banner_view, top10_microdrama_clicked, top10_conversion_rate</li>
                    </ul>

                    <h4>üìà Expected Impact</h4>
                    <div class="metric-box">
                        <strong>Combined Microdrama Engagement Boost:</strong><br><br>
                        <strong>Micro Drama Start Rate:</strong> 22% ‚Üí 35% (+13pp, +10,600 users/month)<br>
                        <strong>Avg Episodes per Session:</strong> 1.2 ‚Üí 2.5 (2.1x increase)<br>
                        <strong>Microdrama Weekly Active Users:</strong> 25% ‚Üí 40% (+15pp)<br>
                        <strong>D7 Retention (Microdrama Viewers):</strong> 45% ‚Üí 55% (+10pp)<br><br>
                        <strong>Why This Works:</strong><br>
                        - In-app PiP drives immediate engagement (auto-play on home screen)<br>
                        - Personalization drives 35-40% higher engagement<br>
                        - Social proof (Top 10) creates FOMO and drives discovery<br>
                        - Push notifications bring users back weekly (habit formation)<br>
                        - Microdrama viewers have 25% higher D7 retention vs non-viewers
                    </div>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 11 days (3d PiP + 2d personalization + 2d push + 0.5d top10 integration + 2d integration tests + 0.5d analytics + 1d buffer)</p>
                    <p style="margin-top: 5px;"><strong>üß™ Experiments:</strong> PiP content (popular vs incomplete), PiP timing (immediate vs delayed), Row position (top vs middle vs bottom), Personalization (on vs off), Notification timing (immediate vs 1hr delayed)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> pip_conversion_rate, microdrama_start_rate, episodes_per_session, microdrama_weekly_active_rate, personalization_lift</p>
                </div>
                </div>
            </div>

            <!-- Initiative 4: Watchlist -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">4</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Watchlist Expansion (My List + Notifications)</div>
                        <div class="initiative-meta">
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(249, 115, 22, 0.3); padding: 2px 6px; border-radius: 4px; color: #f97316;">L</strong> / Week 4-6 (10 days)</span>
                            <span class="badge badge-team">üë• 2 Developers</span>
                            <span class="badge badge-impact">üìà 3.8x Lift</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag retention primary">‚ö° Habit Moment % ‚Üë</span>
                    <span class="metric-tag retention">üìÖ Week 4 Watchers ‚Üë</span>
                    <span class="metric-tag retention">üîÅ Renewal Rate ‚Üë</span>
                    <span class="metric-tag retention">üìä Month 0 Watchers ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Users who save content for later create return behavior through notifications, driving consecutive viewing days (8-day habit) and sustaining engagement beyond Week 4.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">subscription_active</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üìä Current Amplitude Data</h4>
                    <div class="metric-box">
                        <strong>üéâ Exit Intent Popup WORKS!</strong><br>
                        Users who saw popup: <strong>10.61% add to watchlist</strong> (2,159 users ‚Üí 229 added)<br>
                        Users without popup: <strong>2.91% add to watchlist</strong> (65,006 users ‚Üí 1,891 added)<br>
                        <strong>Result: 3.8x LIFT</strong>
                    </div>

                    <a href="https://app.amplitude.com/analytics/STAGEAPP/chart/7njdmw9s" target="_blank" class="amplitude-link">
                        üîó View Watchlist Conversion Funnel
                    </a>

                    <div class="feature-exists">
                        <strong>Watchlist Feature Exists:</strong> Exit popup, add_to_watchlist API, backend all functional. Just expand reach.
                    </div>

                    <div class="metric-box" style="background: rgba(36, 139, 59, 0.1); border-left-color: #248b3b;">
                        <strong>üì± Wireframe:</strong> <a href="watchlist-expansion-wireframe.html" target="_blank" style="color: #248b3b; text-decoration: underline;">View Interactive Wireframe ‚Üí</a>
                    </div>

                    <h4>‚úÖ What We'll Build (NEW Features)</h4>
                    <ul>
                        <li><strong>Feature 1 - "My List" Row on Home (NEW):</strong> Dedicated row at top showing all watchlisted content</li>
                        <li><strong>Feature 4 - 48h Reminder Notifications (NEW):</strong> If content added but not watched in 48h ‚Üí "Don't forget: [Show] is waiting"</li>
                        <li><strong>Feature 5 - Weekly Digest (NEW):</strong> "Your My List: 3 shows have new content" (no episode numbers, works for all content types)</li>
                    </ul>

                    <h4>‚úÖ Already Existing (No Development Needed)</h4>
                    <ul>
                        <li><strong>Feature 2 - Quick Add Button:</strong> Already exists in search results, carousels, similar content sections</li>
                        <li><strong>Feature 3 - Dedicated My List Screen:</strong> Fully functional with edit, delete, undo features</li>
                        <li><strong>Badge Counter:</strong> "üîñ My List (5)" badge counter system already implemented</li>
                    </ul>

                    <h4>üìà Expected Impact</h4>
                    <ul>
                        <li><strong>Watchlist Adds:</strong> 2.91% ‚Üí 8% (+5pp, +3,400 adds/month)</li>
                        <li><strong>Watchlist ‚Üí Playback:</strong> 40% ‚Üí 60% (+20pp from notifications)</li>
                    </ul>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Effort:</strong> 10 days</p>
                </div>
                </div>
            </div>

            <!-- Initiative 5: Binge Leaderboard -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">5</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Binge Leaderboard - Competitive Gamification</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new">üÜï WOW FACTOR</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(239, 68, 68, 0.3); padding: 2px 6px; border-radius: 4px; color: #ef4444;">XL</strong> / Week 3-4 (13 days)</span>
                            <span class="badge badge-team">üë• 1 Developer</span>
                            <span class="badge badge-impact">üìà +60% Consumption, 10K Social Shares</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag retention primary">‚ö° Habit Moment % ‚Üë</span>
                    <span class="metric-tag retention">üìÖ Week 4 Watchers ‚Üë</span>
                    <span class="metric-tag retention">üìä Month 0 Watchers ‚Üë</span>
                    <span class="metric-tag retention">üîÅ Renewal Rate ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Competitive gamification with 7-day streaks and Top 500 rewards creates daily viewing habits, sustains engagement beyond Week 4, and increases renewal intent.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">subscription_active</span>
                    </div>
                </div>

                <div class="section-content">
                    <div class="feature-exists">
                        <strong>Trial Users Already Covered:</strong> Content onboarding with ranking exists for trial_active users. This leaderboard is for paid subscribers only to avoid overlap.
                    </div>

                    <h4>üìä Current Problem</h4>
                    <div class="metric-box warning">
                        <strong>Problem:</strong> Paid subscribers have no social/competitive element to drive binge behavior<br>
                        <strong>Impact:</strong> Users consume content in isolation ‚Üí No viral moments ‚Üí No social sharing<br>
                        <strong>Gap:</strong> Duolingo/Strava-style competitive leaderboards proven to drive 2-3x engagement<br>
                        <strong>Churn Risk:</strong> Without ongoing engagement hooks, subscribers cancel after finishing their favorite shows
                    </div>

                    <h4>üéØ Why This is a Wow Factor (For Paid Subscribers)?</h4>
                    <ul>
                        <li><strong>Competition Drives Obsession:</strong> "I'm 2 episodes away from Top 10!" ‚Üí Paid users binge more to rank higher</li>
                        <li><strong>Viral Social Sharing:</strong> "I'm #3 on STAGE Binge Board üî•" ‚Üí Screenshot shares on WhatsApp drive friend installs</li>
                        <li><strong>One-Time Reward Motivation:</strong> FREE subscription extension for 7-day streak OR Top 500 rank ‚Üí Drives urgency to earn before losing opportunity</li>
                        <li><strong>All-Time Ranking:</strong> Never resets ‚Üí Users build long-term status, encouraging continuous engagement vs. weekly resets</li>
                        <li><strong>Subscriber Retention:</strong> Users stay subscribed to maintain and improve their all-time rank</li>
                        <li><strong>Community Building:</strong> Paid users feel part of exclusive STAGE community ‚Üí Higher brand loyalty</li>
                    </ul>

                    <h4>‚úÖ What We'll Build (5 Tasks)</h4>

                    <div class="metric-box" style="background: rgba(36, 139, 59, 0.1); border-left-color: #248b3b; margin: 15px 0 20px 0;">
                        <strong>üì± Wireframe:</strong> <a href="binge-leaderboard-wireframe.html" target="_blank" style="color: #248b3b; font-weight: 600; text-decoration: underline;">View Interactive Wireframe ‚Üí</a><br>
                        <span style="font-size: 13px; color: #BEBEBE;">See the complete leaderboard: Home entry ‚Üí Full leaderboard ‚Üí Social sharing ‚Üí Streak rewards</span>
                    </div>

                    <p style="margin-top: 15px;"><strong>Task 1: Leaderboard Backend API (3 days)</strong></p>
                    <ul>
                        <li><strong>Ranking Logic:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Calculate user rank by: Total episodes watched (all-time) + Total watch time (hours)</li>
                                <li>All-time leaderboard: Never resets (continuous ranking)</li>
                                <li>Single overall leaderboard (no genre segmentation for simplicity)</li>
                                <li>Real-time ranking updates (refresh every 30 minutes)</li>
                            </ul>
                        </li>
                        <li><strong>One-Time Reward System:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li style="background: rgba(37, 141, 88, 0.15); padding: 10px; border-radius: 6px; border-left: 4px solid var(--accent-green); margin-top: 8px;">
                                    <strong style="color: var(--accent-green);">üéÅ One-Time Reward: FREE subscription extension</strong><br>
                                    <span style="color: var(--text-muted); font-size: 0.9em;"><strong>Option 1:</strong> Complete 7-day watch streak OR <strong>Option 2:</strong> Reach Top 500 rank</span><br>
                                    <span style="color: var(--text-muted); font-size: 0.9em;">‚ö†Ô∏è Can only be claimed once - cannot earn again after redemption</span>
                                </li>
                                <li>Track reward eligibility and claimed status per user</li>
                                <li>Store user's best rank achieved (personal best)</li>
                            </ul>
                        </li>
                        <li><strong>API Endpoints:</strong> /leaderboard/alltime, /user/rank, /user/reward-status</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 2: Leaderboard UI (3 days)</strong></p>
                    <ul>
                        <li><strong>Home Screen Entry Point:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Leaderboard row on home screen showing user's rank: "Your Rank This Week: #347"</li>
                                <li>Show reward eligibility status: "TOP 500" badge with "FREE cycle!" indicator</li>
                                <li>"View All" link to open full leaderboard</li>
                                <li>Episodes watched count: "23 episodes watched"</li>
                                <li>Green gradient background for visibility</li>
                            </ul>
                        </li>
                        <li><strong>Full Leaderboard Screen (Simplified Design):</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Clean header: Trophy icon + "Leaderboard" title + "ALL-TIME RANKING" subtitle</li>
                                <li>Reward callout box: "ONE-TIME REWARD: FREE Subscription Extension" with two earning options</li>
                                <li>Leaderboard list with rank badges, avatars, usernames, episode count & watch time</li>
                                <li>Top 3 ranks: Gold gradient rank badges for visual hierarchy</li>
                                <li>Current user highlighted: Green border, pulsing animation, green rank badge</li>
                                <li>No tier badges (LEGEND/SUPER FAN) - cleaner, less cluttered UI</li>
                                <li>No tabs - single overall leaderboard for simplicity</li>
                            </ul>
                        </li>
                        <li><strong>Achievement Animations:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>When user enters Top 500 ‚Üí Push notification + reward eligibility unlocked</li>
                                <li>When user moves up 10+ ranks ‚Üí Push notification</li>
                                <li>When user reaches personal best ‚Üí Confetti animation</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 3: Social Sharing + Push Notifications (1.5 days)</strong></p>
                    <ul>
                        <li><strong>Share Feature:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Generate shareable image card: "I'm #12 on STAGE Binge Leaderboard üî•"</li>
                                <li>Include user rank, total episodes watched, watch time</li>
                                <li>STAGE branding with green gradient design</li>
                                <li>Share to: WhatsApp only (focused viral channel)</li>
                            </ul>
                        </li>
                        <li><strong>Push Notifications:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>"You're 2 episodes away from Top 10! üèÜ" (when close to milestone)</li>
                                <li>"You dropped to #45. Watch now to climb back!" (when rank drops)</li>
                                <li>"You're eligible for FREE subscription! You're in Top 500! Claim your reward now." (reward eligibility)</li>
                                <li>"You're now #8! Keep binging to reach Top 5!" (when rank improves)</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 4: Analytics + Gamification Integration (0.5 days)</strong></p>
                    <ul>
                        <li><strong>Track Events:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>leaderboard_viewed</li>
                                <li>leaderboard_rank_achieved (rank, milestone: top10/top100/top500)</li>
                                <li>leaderboard_shared (platform: whatsapp)</li>
                                <li>leaderboard_notification_clicked (type: milestone/drop/reward_eligible)</li>
                                <li>reward_claimed (reward_type: streak/leaderboard)</li>
                            </ul>
                        </li>
                        <li><strong>Integration:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Connect to existing microdrama streak gamification (Initiative #3, Task 5)</li>
                                <li>Cross-promote: "You have a 5-day streak AND you're #20 on Leaderboard!"</li>
                                <li>Track one-time reward eligibility and claimed status</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 5: 7-Day Consecutive Watch Streak ‚Üí Free Subscription Extension (2 days)</strong></p>
                    <ul>
                        <li><strong>Streak Tracking Logic:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Track daily watch activity: If user completes ANY episode or movie on a given day, mark day as "active"</li>
                                <li>Consecutive streak counter: Reset to 0 if user misses a day, increment by 1 each active day</li>
                                <li>Trigger reward: When streak reaches 7 consecutive days ‚Üí Auto-extend subscription for next billing cycle</li>
                                <li>Streak persistence: Store in user profile, sync across devices</li>
                                <li>Grace period: 24-hour window (12 AM - 11:59 PM IST) to maintain streak</li>
                            </ul>
                        </li>
                        <li><strong>Subscription Extension Logic:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Reward: Add billing cycle duration to next renewal date (e.g., monthly sub gets +1 month)</li>
                                <li>One-time per streak: User must start new 7-day streak to earn again</li>
                                <li>Display in subscription settings: "Next renewal: [Date] + 1 month FREE (7-day streak reward)"</li>
                                <li>Track redemption: Store reward history for analytics</li>
                            </ul>
                        </li>
                        <li><strong>Streak UI Enhancements:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Home screen widget: "üî• Day 4/7 - Keep watching to unlock FREE subscription!"</li>
                                <li>Progress bar: Visual countdown showing days remaining until reward</li>
                                <li>Celebration animation: When 7-day streak completed ‚Üí Full-screen "You earned 1 month FREE!"</li>
                                <li>Reminder notifications: "Don't lose your 5-day streak! Watch now to keep it alive"</li>
                            </ul>
                        </li>
                        <li><strong>Analytics Events:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>streak_day_completed (day_number, consecutive_days)</li>
                                <li>streak_broken (last_streak_length, days_since_last_watch)</li>
                                <li>streak_reward_earned (streak_length: 7, reward_type: subscription_extension)</li>
                                <li>streak_reward_redeemed (extension_duration, next_renewal_date)</li>
                                <li>streak_reminder_sent (current_streak, days_remaining)</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>üìà Expected Impact (Paid Subscribers Only)</h4>
                    <div class="metric-box">
                        <strong>Consumption Boost:</strong><br>
                        <strong>Episodes per Session:</strong> 2.5 ‚Üí 4.0 (+60% for competitive subscribers)<br>
                        <strong>Daily Active Subscribers (DAU):</strong> +25% (leaderboard check becomes daily habit)<br>
                        <strong>Weekly Active Subscribers (WAU):</strong> +40% (Monday reset brings users back)<br>
                        <strong>Watch Time per Subscriber:</strong> +50% (competing to maintain/improve rank)<br><br>
                        <strong>Subscriber Retention Impact:</strong><br>
                        <strong>Monthly Churn Reduction:</strong> -15% (don't want to lose rank/badges/streak)<br>
                        <strong>Subscriber Lifetime Value (LTV):</strong> +20% (longer subscription duration)<br>
                        <strong>Re-engagement Rate:</strong> +35% (lapsed subscribers return for weekly reset)<br>
                        <strong>MRR Impact:</strong> +‚Çπ2.5L/month (churn reduction + longer LTV)<br><br>
                        <strong>Viral Growth:</strong><br>
                        <strong>Social Shares:</strong> 10,000+/month (leaderboard screenshots on social media)<br>
                        <strong>Viral Coefficient:</strong> 0.2-0.3 (each sharer brings 0.2-0.3 new users)<br>
                        <strong>Organic Installs:</strong> +15% from social media shares<br>
                        <strong>Free Marketing Value:</strong> ‚Çπ2-3 Lakhs/month (10K shares = paid social equivalent)<br><br>
                        <strong>Why This Works (For Paid Subscribers):</strong><br>
                        - <strong>Free subscription for Top 500 = HIGH achievable reward</strong> ‚Üí More users compete (not just elite 10)<br>
                        - Broader participation = More engaged users binge-watching weekly<br>
                        - Duolingo leaderboards drive 2-3x engagement (proven model)<br>
                        - Weekly resets prevent stagnation (always a new chance to win)<br>
                        - Sunk cost fallacy: Users invested in rank ‚Üí stay subscribed<br>
                        - Social sharing = free marketing + brand advocacy<br>
                        - Competition taps into FOMO (don't want to fall behind friends)
                    </div>

                    <div class="feature-exists">
                        <strong>Leverage Existing Infrastructure:</strong> Analytics tracking (episodes_per_session, watch_time), push notifications, streak gamification framework from Initiative #3
                    </div>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 13 days (3d backend + 3d UI + 1.5d social/push + 2d 7-day streak + 2d experimentation + 1d integration tests + 0.5d analytics)</p>
                    <p style="margin-top: 5px;"><strong>üß™ Experiments:</strong> Reset frequency (weekly vs bi-weekly vs monthly), Entry point visibility (home vs profile vs dedicated tab)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> leaderboard_engagement_rate, social_share_count, episodes_per_session_lift (subscribers), subscriber_churn_reduction, subscriber_ltv_increase, viral_coefficient</p>
                </div>
                </div>
            </div>

            <!-- Initiative 6: AI Mood Curator -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">6</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">AI Mood Curator - Emotional Content Discovery</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new">üÜï WOW FACTOR</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(239, 68, 68, 0.3); padding: 2px 6px; border-radius: 4px; color: #ef4444;">XL</strong> / Week 4-5 (14 days)</span>
                            <span class="badge badge-team">üë• 2 Developers</span>
                            <span class="badge badge-impact">üìà +45% Discovery, +18pp Microdrama</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag retention primary">üìä Month 0 Watchers ‚Üë</span>
                    <span class="metric-tag retention">üò¥ Dormants Watcher ‚Üë</span>
                    <span class="metric-tag growth">üí° AHA Moment ‚Üë</span>
                    <span class="metric-tag growth">üìä D‚ÇÅ(Retention) ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Mood-based personalization solves "what to watch" problem, increasing content discovery, reactivating dormant users via mood-based notifications, and driving faster value realization.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">subscription_active</span>
                        <span class="user-type-tag">trial_active</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üìä Current Problem</h4>
                    <div class="metric-box warning">
                        <strong>Problem:</strong> 77% of users don't discover microdrama (only 22% start rate)<br>
                        <strong>Root Cause:</strong> Generic genre rows don't match emotional state ‚Üí "I don't know what to watch"<br>
                        <strong>Impact:</strong> Low content discovery ‚Üí Reduced consumption ‚Üí Higher trial cancellation
                    </div>

                    <h4>üéØ Why This is a Wow Factor?</h4>
                    <ul>
                        <li><strong>Hyper-Personalization:</strong> Beyond genre ‚Üí Emotional state matching = 2x higher start rate</li>
                        <li><strong>Solves "Decision Fatigue":</strong> Users spend 10-15 min browsing ‚Üí AI picks FOR them based on mood</li>
                        <li><strong>Viral Share Moment:</strong> "STAGE knows me better than my friends üò≠" ‚Üí Screenshot testimonials on social</li>
                        <li><strong>Discovery Breakthrough:</strong> Surfaces niche content (microdrama, regional) users wouldn't find otherwise</li>
                        <li><strong>Content Completion Lift:</strong> Right mood = right content = 40% higher completion rate</li>
                    </ul>

                    <div class="metric-box" style="background: rgba(36, 139, 59, 0.1); border-left-color: #248b3b; margin: 15px 0 20px 0;">
                        <strong>üì± Wireframe:</strong> <a href="ai-mood-curator-wireframe.html" target="_blank" style="color: #248b3b; font-weight: 600; text-decoration: underline;">View Interactive Wireframe ‚Üí</a><br>
                        <span style="font-size: 13px; color: #BEBEBE;">See mood selection UI, AI recommendation engine, personalized content rows, and push notification flow</span>
                    </div>

                    <h4>‚úÖ What We'll Build (5 Tasks)</h4>

                    <p style="margin-top: 15px;"><strong>Task 1: Mood Selection UI (2 days)</strong></p>
                    <ul>
                        <li><strong>Home Screen Entry Point:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Prominent card at top: "How are you feeling right now? üòä"</li>
                                <li>6 Mood Options: Happy üòä | Sad üò¢ | Stressed üò∞ | Bored üòê | Romantic üíï | Excited üî•</li>
                                <li>Single tap mood selection ‚Üí Instant recommendations</li>
                                <li>Save last selected mood for quick access</li>
                            </ul>
                        </li>
                        <li><strong>Mood-Based Navigation Tab:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Add "For Your Mood" tab in home navigation</li>
                                <li>Shows current mood: "Feeling Stressed? Here's what helps üíÜ"</li>
                                <li>Change mood button: Quick switcher without leaving screen</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 2: Mood-to-Content Mapping Algorithm (3 days)</strong></p>
                    <ul>
                        <li><strong>Mood ‚Üí Genre/Tone Mapping:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Happy:</strong> Comedy, feel-good dramas, lighthearted microdramas</li>
                                <li><strong>Sad:</strong> Emotional dramas, slice-of-life, comfort content</li>
                                <li><strong>Stressed:</strong> Comedy shorts, microdramas (quick escape), light romance</li>
                                <li><strong>Bored:</strong> Thrillers, action, binge-worthy series, mystery</li>
                                <li><strong>Romantic:</strong> Romance dramas, romantic comedies, love stories</li>
                                <li><strong>Excited:</strong> Action, suspense, high-energy content, popular trending</li>
                            </ul>
                        </li>
                        <li><strong>Personalization Layer:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Query user's viewing history (genre affinity, completion rate)</li>
                                <li>Combine mood mapping + personal preferences</li>
                                <li>Weight recent watches higher (last 7 days)</li>
                                <li>Filter out already-watched content</li>
                            </ul>
                        </li>
                        <li><strong>AI Explanation Feature:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>For each recommendation: "We picked this because..."</li>
                                <li>Example: "Feeling Stressed? This comedy short helps you unwind in 15 minutes"</li>
                                <li>Builds trust in AI ‚Üí Higher acceptance rate</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 3: Mood-Based Recommendations UI (2.5 days)</strong></p>
                    <ul>
                        <li><strong>Curated Content Rows:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>"Perfect for Your Mood: Stressed üò∞" ‚Üí 10-15 personalized picks</li>
                                <li>Each card shows: Thumbnail + Title + "Why this helps" subtitle</li>
                                <li>Top pick: Large hero card with AI explanation</li>
                                <li>"Watch Now" CTA ‚Üí One-tap playback</li>
                            </ul>
                        </li>
                        <li><strong>Mood History Tracker:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Show recent mood selections: "Last week: Happy üòä | Today: Stressed üò∞"</li>
                                <li>Quick toggle between recent moods</li>
                                <li>Analytics: Track mood trends over time</li>
                            </ul>
                        </li>
                        <li><strong>Smart Defaults:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>If user hasn't selected mood: Show "Popular Right Now" (time-based)</li>
                                <li>Evening (6-10 PM): Default to "Bored" (prime binge time)</li>
                                <li>Lunch (12-2 PM): Default to "Stressed" (work break escape)</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 4: Push Notifications + Deep Links (1.5 days)</strong></p>
                    <ul>
                        <li><strong>Mood-Based Notifications:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Evening push: "Feeling stressed after work? We have 5 shows to help üòå"</li>
                                <li>Weekend push: "Happy Saturday! Here are 3 feel-good shows to start your day üòä"</li>
                                <li>Time-based targeting: Stressed (weekdays 6 PM), Happy (weekends 10 AM)</li>
                            </ul>
                        </li>
                        <li><strong>Deep Link:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Route: stage://mood/stressed ‚Üí Opens mood recommendations directly</li>
                                <li>From share: stage://mood-recommendation/xyz ‚Üí Opens specific AI-picked show</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 5: Analytics + Viral Sharing (1 day)</strong></p>
                    <ul>
                        <li><strong>Track Events:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>mood_selected (mood_type: happy/sad/stressed/bored/romantic/excited)</li>
                                <li>mood_recommendation_shown (mood_type, content_count, personalization_score)</li>
                                <li>mood_recommendation_clicked (mood_type, content_id, recommendation_rank)</li>
                                <li>mood_to_playback_rate (conversion by mood type)</li>
                                <li>mood_content_completion_rate (did user finish recommended content?)</li>
                            </ul>
                        </li>
                        <li><strong>Viral Share Feature:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>"Share My Mood Picks" ‚Üí Screenshot with AI explanation</li>
                                <li>Example share: "STAGE AI knows me! üò≠ When I said I'm stressed, it recommended [Show] and it was PERFECT"</li>
                                <li>Track: mood_recommendation_shared (platform: instagram/twitter/whatsapp)</li>
                            </ul>
                        </li>
                        <li><strong>A/B Test Variables:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Number of moods: 6 vs 8 vs 4 (optimal choice paradox)</li>
                                <li>AI explanation copy: "We picked this because..." vs "Perfect for you when stressed"</li>
                                <li>Recommendation count: 10 vs 15 vs 20 picks per mood</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>üìà Expected Impact</h4>
                    <div class="metric-box">
                        <strong>Discovery Breakthrough:</strong><br>
                        <strong>Microdrama Start Rate:</strong> 22% ‚Üí 40% (+18pp vs +13pp target from Initiative #3)<br>
                        <strong>Content Discovery Rate:</strong> +45% (users find content they wouldn't browse to)<br>
                        <strong>Decision Time:</strong> 10-15 min browsing ‚Üí 30 sec mood selection (10x faster)<br><br>
                        <strong>Consumption Boost:</strong><br>
                        <strong>Content Start Rate (Overall):</strong> +30% (mood solves "what to watch" paralysis)<br>
                        <strong>Content Completion Rate:</strong> +40% (right mood = right content = finish it)<br>
                        <strong>Session Length:</strong> +25% (users watch more when content matches emotional state)<br><br>
                        <strong>Retention Impact:</strong><br>
                        <strong>D7 Retention:</strong> +18% (mood-based engagement creates habit)<br>
                        <strong>Trial-to-Paid:</strong> +15% (personalization builds brand loyalty)<br>
                        <strong>Churn Reduction:</strong> -12% (users feel understood ‚Üí less likely to cancel)<br><br>
                        <strong>Viral Growth:</strong><br>
                        <strong>Social Shares:</strong> 8,000+/month ("This app reads my mind" testimonials)<br>
                        <strong>App Store Reviews:</strong> "AI feature is a game-changer" ‚Üí Higher ratings<br>
                        <strong>Organic Installs:</strong> +10% from viral social proof<br><br>
                        <strong>Why This Works:</strong><br>
                        - Spotify "Mood Playlists" drive 3x higher engagement vs genre playlists<br>
                        - Netflix study: Emotional state > genre preference for content match<br>
                        - Solves core problem: 77% don't discover microdrama ‚Üí AI surfaces it<br>
                        - "AI knows me" = wow moment ‚Üí User evangelizes STAGE to friends
                    </div>

                    <div class="feature-exists">
                        <strong>Leverage Existing Infrastructure:</strong> Recommendation API, viewing history analytics, push notifications, personalization engine, social sharing framework
                    </div>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 14 days (2d mood UI + 3d algorithm + 3d recommendations UI + 2d push + 2d experimentation + 2d integration tests)</p>
                    <p style="margin-top: 5px;"><strong>üß™ Experiments:</strong> Mood selector frequency (every launch vs daily vs weekly), Algorithm type (explicit mood-based vs AI-inferred mood)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> mood_to_playback_rate, microdrama_start_rate_lift, content_completion_rate_lift, d7_retention_impact, social_share_count</p>
                </div>
                </div>
            </div>

        </div>

        <!-- P1: Important -->
        <div class="priority-section">
            <div class="priority-header">
                <span class="priority-badge p1">
                    <span>üìä</span>
                    <span>P1 - Important</span>
                </span>
                <h2 class="priority-title">Retention & Analytics Foundation</h2>
                <span class="priority-timeline">Weeks 1-8</span>
            </div>

            <p class="priority-description">
                <strong>Mission:</strong> Fix analytics gaps and understand retention patterns. Enable data-driven decision making.
            </p>

            <!-- Initiative 9: Resume Trial -->
            <div class="initiative-card retention collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number orange">9</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Resume Trial Incentives (Optimization)</div>
                        <div class="initiative-meta">
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(59, 130, 246, 0.3); padding: 2px 6px; border-radius: 4px; color: #3b82f6;">M</strong> / Week 7-8 (3 days)</span>
                            <span class="badge badge-team">üë• 1 Developer</span>
                            <span class="badge badge-impact">üìà +15-20% Resume Rate</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag growth primary">üîÑ Re Activation ‚Üë</span>
                    <span class="metric-tag retention">üîÅ Renewal Rate ‚Üë</span>
                    <span class="metric-tag retention">üìà Month 1 Watcher ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Targeted incentives for trial_over and subscription_over users win back churned users before renewal window closes, re-engaging them after Month 1.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">trial_over</span>
                        <span class="user-type-tag">subscription_over</span>
                    </div>
                </div>

                <div class="section-content">
                    <div class="feature-exists">
                        <strong>Resume Trial Feature Exists:</strong> Flag-based mandate resume (no pricing change possible - internal backend flag only)
                    </div>

                    <h4>üìä Current State</h4>
                    <ul>
                        <li><strong>5 Touchpoints:</strong> Floating banner, bottom sheet, home banners, popup</li>
                        <li><strong>Existing A/B Test:</strong> Text vs Image layout only</li>
                        <li><strong>API:</strong> resumePlan() - reverts backend pause flag</li>
                        <li><strong>Gap:</strong> No conversion tracking, no messaging variants tested</li>
                    </ul>

                    <h4>‚úÖ What We'll Build (2 Tasks)</h4>

                    <p style="margin-top: 15px;"><strong>Task 1: A/B Test Messaging Variants (2 days)</strong></p>
                    <ul>
                        <li><strong>Test 4 Message Variants:</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Variant A:</strong> "Resume to continue unlimited streaming" (benefit reminder)</li>
                                <li><strong>Variant B:</strong> "Continue watching [Last Show]" (personalized content hook)</li>
                                <li><strong>Variant C:</strong> "Trial expires in 3 days!" (urgency/FOMO)</li>
                                <li><strong>Variant D:</strong> "Don't lose access" (loss aversion)</li>
                            </ul>
                        </li>
                        <li><strong>Implementation:</strong> Add resume_trial_message_variant to Remote Config</li>
                        <li><strong>Note:</strong> No pricing changes (just copy testing)</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Task 2: Conversion Tracking (1 day)</strong></p>
                    <ul>
                        <li><strong>App Event:</strong> trial_resumed (tracks flag revert API success - internal flag only)</li>
                        <li><strong>Backend Event:</strong> trial_reactivated (tracked when PSP new mandate registered - actual payment)</li>
                        <li><strong>Full Funnel:</strong> Widget View ‚Üí Click ‚Üí API Call ‚Üí trial_resumed/trial_reactivated</li>
                        <li><strong>Metrics:</strong> Conversion rate by message variant, days since pause, pause source (PSP vs In-app)</li>
                    </ul>

                    <div class="metric-box" style="background: rgba(37, 141, 88, 0.1); border-left-color: var(--accent-green); margin-top: 15px;">
                        <strong>üìå Event Naming Convention:</strong><br>
                        <strong>trial_resumed:</strong> Flag revert (no payment, internal backend flag only)<br>
                        <strong>trial_reactivated:</strong> New mandate registration (actual payment via PSP)<br><br>
                        Use case: trial_resumed for in-app pauses, trial_reactivated for PSP cancellations
                    </div>

                    <h4>üìà Expected Impact</h4>
                    <div class="metric-box">
                        <strong>Resume Flag Revert Rate: +15-20%</strong> (from messaging optimization)<br><br>
                        <strong>Before:</strong> Single generic message, no conversion tracking<br>
                        <strong>After:</strong> 4 tested variants, full funnel tracking<br><br>
                        <strong>Why This Works:</strong><br>
                        - Right message for right user segment<br>
                        - Data-driven optimization via conversion tracking<br>
                        - Identify best-performing variant to scale
                    </div>

                    <a href="https://app.amplitude.com/analytics/STAGEAPP/chart/0fdjwdly/edit/fvk09nv2" target="_blank" class="amplitude-link">
                        üîó View Trial Retention
                    </a>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 3 days (2 days messaging variants + 1 day conversion tracking)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> trial_resumed_rate (flag revert), trial_reactivated_rate (PSP new mandate), conversion_by_message_variant</p>
                </div>
                </div>
            </div>

        </div>

        <!-- P2: Strategic -->
        <div class="priority-section">
            <div class="priority-header">
                <span class="priority-badge p2">
                    <span>üöÄ</span>
                    <span>P2 - Strategic</span>
                </span>
                <h2 class="priority-title">Growth & Personalization</h2>
                <span class="priority-timeline">Weeks 9-12</span>
            </div>

            <p class="priority-description">
                <strong>Mission:</strong> Scale what works and win back lapsed users. Long-term growth optimization.
            </p>

            <!-- Initiative 11: Community Watch Challenges -->
            <div class="initiative-card critical collapsed">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number">11</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Community Watch Challenges - Viral Gamification</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new">üÜï WOW FACTOR</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(249, 115, 22, 0.3); padding: 2px 6px; border-radius: 4px; color: #f97316;">L</strong> / Week 5-6 (9 days)</span>
                            <span class="badge badge-team">üë• 2 Developers</span>
                            <span class="badge badge-impact">üìà +45% WAU, +30% Consumption</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="metric-tags">
                    <span class="metric-tag retention primary">‚ö° Habit Moment % ‚Üë</span>
                    <span class="metric-tag retention">üìÖ Week 4 Watchers ‚Üë</span>
                    <span class="metric-tag retention">üìä Month 0 Watchers ‚Üë</span>
                    <span class="metric-tag growth">üìà Trial Rate (TRT) ‚Üë</span>
                </div>

                <div class="initiative-content">
                <div style="margin: 12px 0; padding: 12px; background: rgba(37, 141, 88, 0.1); border-left: 3px solid var(--accent-green); border-radius: 6px; font-size: 0.9em; line-height: 1.5;">
                    <strong>Why these metrics?</strong> Group challenges create social accountability for daily watching, sustaining engagement beyond Week 4, while viral sharing brings new trial users through social proof.
                </div>

                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">trial_active</span>
                        <span class="user-type-tag">subscription_active</span>
                        <span class="user-type-tag">non_subscriber</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üìä Current Problem</h4>
                    <div class="metric-box warning">
                        <strong>Problem:</strong> Users consume content in isolation with no sense of community participation<br>
                        <strong>Impact:</strong> No social motivation to increase viewing time or return daily<br>
                        <strong>Gap:</strong> Competitors like Duolingo use community challenges to drive 2-3x engagement<br>
                        <strong>Opportunity:</strong> Create collective goals that drive viral sharing and increased consumption
                    </div>

                    <h4>üéØ Why This is a Wow Factor?</h4>
                    <ul>
                        <li><strong>Community Spirit:</strong> Users feel part of something bigger than themselves</li>
                        <li><strong>Social Pressure:</strong> "We're at 85% - we can't let the community down!"</li>
                        <li><strong>Viral Sharing:</strong> Users recruit friends to help reach collective goal</li>
                        <li><strong>Variable Rewards:</strong> Uncertainty of success creates excitement (like raid boss in games)</li>
                        <li><strong>Weekly Reset:</strong> Fresh challenge every week maintains novelty and engagement</li>
                        <li><strong>Leaderboard Effect:</strong> Top contributors get recognition driving competitive behavior</li>
                    </ul>

                    <h4>‚úÖ What We'll Build</h4>

                    <p style="margin-top: 15px;"><strong>Phase 1: Challenge Engine + Progress Tracking (3 days)</strong></p>
                    <ul>
                        <li><strong>Day 1-2: Challenge Engine Implementation</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Weekly Challenge System:</strong> Admin-configurable challenges (watch hours target, episode count, specific genre)</li>
                                <li><strong>Challenge Types:</strong>
                                    <ul style="margin-left: 20px;">
                                        <li>Watch Hours: "Community goal - 10M hours this week"</li>
                                        <li>Episode Count: "Complete 500K episodes together"</li>
                                        <li>Genre Focus: "Watch 5M hours of microdramas"</li>
                                        <li>Content Launch: "Help [Show] reach 1M views"</li>
                                    </ul>
                                </li>
                                <li><strong>Real-time Progress Aggregation:</strong> Count user watch time/episodes toward community goal</li>
                                <li><strong>Individual Contribution Tracking:</strong> Track each user's contribution to collective goal</li>
                            </ul>
                        </li>
                        <li><strong>Day 3: Events Instrumentation</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>challenge_viewed</code> - Track when users view challenge screen</li>
                                <li><code>challenge_contribution_tracked</code> - Track individual watch time added to goal</li>
                                <li><code>challenge_progress_checked</code> - Track when users check progress</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 2: Challenge UI + Progress Visualization (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Challenge Home Screen</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Hero Banner:</strong> Current week's challenge prominently displayed on home</li>
                                <li><strong>Progress Bar:</strong> Real-time progress visual (8.5M / 10M = 85%)</li>
                                <li><strong>Countdown Timer:</strong> "2 days 5 hours remaining"</li>
                                <li><strong>Your Contribution:</strong> "You've contributed 2.5 hours (#234 globally)"</li>
                                <li><strong>Reward Preview:</strong> Show what everyone unlocks if goal is reached</li>
                                <li><strong>Call-to-Action:</strong> "Start Watching" button with genre filter</li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Analytics Events</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>challenge_banner_viewed</code> - Track banner impressions</li>
                                <li><code>challenge_cta_clicked</code> - Track "Start Watching" button clicks</li>
                                <li><code>challenge_reward_viewed</code> - Track when users view reward details</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 3: Leaderboard + Rewards System (2 days)</strong></p>
                    <ul>
                        <li><strong>Day 1: Contributor Leaderboard</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Top Contributors:</strong> Show top 100 contributors by watch time</li>
                                <li><strong>Your Rank:</strong> Show user's global rank and nearby users</li>
                                <li><strong>Badges:</strong> Top 10 get special "Community Champion" badge for the week</li>
                                <li><strong>Social Sharing:</strong> "I'm #12 in STAGE Community Challenge! Help us reach 10M hours üî•"</li>
                                <li><strong>Reward Distribution:</strong> If goal reached, unlock rewards for ALL users:
                                    <ul style="margin-left: 20px;">
                                        <li>Exclusive episode/content unlock</li>
                                        <li>Behind-the-scenes blooper reel</li>
                                        <li>Free trial extension (1 week for trial users)</li>
                                        <li>Early access to upcoming show</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><strong>Day 2: Analytics Events</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><code>challenge_leaderboard_viewed</code> - Track leaderboard views</li>
                                <li><code>challenge_rank_viewed</code> - Track when users check their rank</li>
                                <li><code>challenge_shared</code> - Track social shares</li>
                                <li><code>challenge_completed</code> - Track when community reaches goal</li>
                                <li><code>challenge_failed</code> - Track when challenge ends without reaching goal</li>
                                <li><code>challenge_reward_claimed</code> - Track reward redemption</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 4: Experimentation Setup (1 day)</strong></p>
                    <ul>
                        <li><strong>A/B Test Configuration</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li><strong>Goal Difficulty Variants:</strong></li>
                                <li style="margin-left: 20px;">Variant A: Easy goal (90% likely to succeed) - High completion, low excitement</li>
                                <li style="margin-left: 20px;">Variant B: Medium goal (70% likely to succeed - control)</li>
                                <li style="margin-left: 20px;">Variant C: Hard goal (50% likely to succeed) - Low completion, high excitement</li>
                                <li><strong>Reward Type Variants:</strong></li>
                                <li style="margin-left: 20px;">Variant A: Content unlock (exclusive episodes)</li>
                                <li style="margin-left: 20px;">Variant B: Trial extension (free week) - control</li>
                                <li style="margin-left: 20px;">Variant C: Mixed rewards (content + trial extension)</li>
                                <li><strong>Challenge Duration:</strong></li>
                                <li style="margin-left: 20px;">Variant A: 7-day weekly challenge (control)</li>
                                <li style="margin-left: 20px;">Variant B: 3-day weekend challenge (urgency)</li>
                            </ul>
                        </li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Phase 5: Integration Testing (1 day)</strong></p>
                    <ul>
                        <li><strong>End-to-End Flow Testing</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test full flow: Challenge viewed ‚Üí Watch content ‚Üí Contribution tracked ‚Üí Progress updated ‚Üí Goal reached ‚Üí Rewards distributed</li>
                                <li>Test leaderboard updates in real-time</li>
                                <li>Test individual contribution tracking accuracy</li>
                                <li>Verify all analytics events fire correctly</li>
                                <li>Test experiment variant assignment</li>
                            </ul>
                        </li>
                        <li><strong>Edge Cases Testing</strong>
                            <ul style="margin-left: 20px; margin-top: 5px;">
                                <li>Test challenge expiration (what happens when timer runs out)</li>
                                <li>Test reward distribution failures (network errors, backend issues)</li>
                                <li>Test simultaneous multiple challenges (if running genre-specific + overall)</li>
                                <li>Test leaderboard with millions of participants (performance)</li>
                                <li>Test social share failures (no internet, app permissions)</li>
                                <li>Test progress bar accuracy under high concurrent load</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>üìà Expected Impact</h4>
                    <div class="metric-box">
                        <strong>Conservative Estimate:</strong><br>
                        <strong>Weekly Active Users (WAU): +45%</strong> (users return multiple times per week to check progress)<br>
                        <strong>Content Consumption: +30%</strong> (during challenge weeks)<br><br>
                        <strong>Math (Based on Current Usage):</strong><br>
                        - <strong>Current WAU: 1.2M users</strong> (35% of 3.4M MAU)<br>
                        - <strong>New WAU with challenges: 1.74M users</strong> (+540K weekly active)<br>
                        - <strong>Average watch time increase: +30%</strong> (from 2.5 hours/week ‚Üí 3.25 hours/week)<br>
                        - <strong>Additional watch hours: +270K hours/week</strong> (540K users √ó 0.5 hours extra)<br><br>
                        <strong>Viral Impact:</strong><br>
                        - <strong>Social shares: +25%</strong> (users recruit friends to help reach goal)<br>
                        - <strong>Friend invites: +40%</strong> ("Help us reach 10M hours!")<br>
                        - <strong>Organic downloads: +15%</strong> (from viral sharing)<br><br>
                        <strong>Retention Impact:</strong><br>
                        - <strong>D7 retention: +15%</strong> (users return to check challenge progress)<br>
                        - <strong>Trial cancellation rate: -10%</strong> (invested in helping community)<br>
                        - <strong>Subscriber engagement: +35%</strong> (paid users consume more content)<br><br>
                        <strong>Why This Works:</strong><br>
                        - Creates FOMO (fear of missing collective reward)<br>
                        - Social proof (thousands participating together)<br>
                        - Gamification (progress bars, leaderboards, badges)<br>
                        - Variable rewards (not guaranteed success = excitement)<br>
                        - Community identity ("We're STAGE community!")<br>
                        - Weekly reset maintains novelty and engagement
                    </div>

                    <h4>üí° Example Challenges</h4>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; margin-top: 15px;">
                        <strong>Week 1: Microdrama Marathon</strong><br>
                        Goal: Watch 10M hours of microdramas this week<br>
                        Reward: Unlock exclusive "Making of Crime Patrol" documentary<br>
                        Progress: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë 85% (8.5M / 10M) - 2 days remaining<br><br>

                        <strong>Week 2: Episode Challenge</strong><br>
                        Goal: Complete 500K episodes as a community<br>
                        Reward: All users get 1-week trial extension<br>
                        Progress: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% (523K / 500K) - ‚úÖ GOAL REACHED!<br><br>

                        <strong>Week 3: New Show Launch</strong><br>
                        Goal: Help "Dark Nights" reach 1M views in launch week<br>
                        Reward: Early access to Episode 11 (releases 1 week early)<br>
                        Progress: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë 72% (720K / 1M) - 3 days remaining
                    </div>

                    <p style="margin-top: 10px;"><strong>‚è±Ô∏è Total Effort:</strong> 9 days (3d challenge engine + 2d UI + 2d leaderboard/rewards + 1d experimentation + 1d integration tests)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Success Metrics:</strong> challenge_viewed, challenge_contribution_tracked, challenge_completed (success rate), challenge_shared, WAU lift, content consumption lift, D7 retention lift</p>
                    <p style="margin-top: 5px;"><strong>üß™ Experiments:</strong> Goal difficulty (easy vs medium vs hard), Reward type (content vs trial extension vs mixed), Challenge duration (7-day vs 3-day)</p>
                </div>
                </div>
            </div>

            <!-- Initiative 12: Code Refactoring -->
            <div class="initiative-card collapsed" style="background: linear-gradient(135deg, rgba(239, 167, 63, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%); border: 2px solid var(--accent-orange);">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number" style="background: linear-gradient(135deg, var(--accent-orange), #ff9800);">12</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Code Refactoring: Decompose Monster DTO File</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new" style="background: var(--accent-orange);">üîß TECHNICAL DEBT</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(34, 197, 94, 0.3); padding: 2px 6px; border-radius: 4px; color: #22c55e;">S</strong> / 1.5 Days</span>
                            <span class="badge badge-team">üë• 1 Developer</span>
                            <span class="badge badge-impact">üöÄ +20% Velocity</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="initiative-content">
                <div class="section-content" style="margin-top: 50px;">
                    <h4>üö® Problem: Scalability Blocker</h4>
                    <div class="metric-box" style="border-left-color: var(--accent-orange);">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div><strong>File:</strong> copies_response.dart</div>
                            <div><strong>Size:</strong> 3,455 lines</div>
                            <div><strong>Classes:</strong> 58 classes in 1 file</div>
                            <div><strong>Issue:</strong> God Object anti-pattern</div>
                        </div>
                    </div>

                    <h4>üìä Impact on Team</h4>
                    <table style="width: 100%; background: var(--bg-card); border-radius: 8px; overflow: hidden; margin-top: 15px;">
                        <thead>
                            <tr style="background: rgba(239, 167, 63, 0.1);">
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color);">Metric</th>
                                <th style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">Before</th>
                                <th style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">After</th>
                                <th style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">Improvement</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">File Size</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">3,455 lines</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">&lt;200 lines</td>
                                <td style="padding: 12px; text-align: center; color: var(--accent-green); border-bottom: 1px solid var(--border-color);"><strong>-94%</strong></td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">Build Time</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">Baseline</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">Faster</td>
                                <td style="padding: 12px; text-align: center; color: var(--accent-green); border-bottom: 1px solid var(--border-color);"><strong>-10-15%</strong></td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">Merge Conflicts</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">High</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">Minimal</td>
                                <td style="padding: 12px; text-align: center; color: var(--accent-green); border-bottom: 1px solid var(--border-color);"><strong>-90%</strong></td>
                            </tr>
                            <tr>
                                <td style="padding: 12px;">Developer Velocity</td>
                                <td style="padding: 12px; text-align: center;">Baseline</td>
                                <td style="padding: 12px; text-align: center;">Higher</td>
                                <td style="padding: 12px; text-align: center; color: var(--accent-green);"><strong>+20%</strong></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>‚úÖ Solution: Split into 55 Organized Files</h4>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; margin-top: 15px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <strong>Before:</strong><br>
                                <code style="background: rgba(255,255,255,0.05); padding: 4px 8px; border-radius: 4px;">copies_response.dart</code>
                                <ul style="margin-left: 20px; margin-top: 10px;">
                                    <li>3,455 lines</li>
                                    <li>58 classes</li>
                                    <li>35 imports</li>
                                    <li>Monolithic structure</li>
                                </ul>
                            </div>
                            <div>
                                <strong>After:</strong><br>
                                <code style="background: rgba(255,255,255,0.05); padding: 4px 8px; border-radius: 4px;">copies/ (organized folders)</code>
                                <ul style="margin-left: 20px; margin-top: 10px;">
                                    <li>55 focused files</li>
                                    <li>1-3 classes per file</li>
                                    <li>Feature-based folders</li>
                                    <li>Clean architecture</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <h4>üìÖ Implementation Plan (1.5 Days)</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px; margin-top: 15px;">
                        <div style="background: var(--bg-card); padding: 15px; border-left: 4px solid var(--accent-green); border-radius: 6px;">
                            <strong>Day 1 (Morning):</strong> Extract critical features (Auth, Home, Subscription, Payment) ‚Üí ~1,100 lines
                        </div>
                        <div style="background: var(--bg-card); padding: 15px; border-left: 4px solid var(--accent-blue); border-radius: 6px;">
                            <strong>Day 1 (Afternoon):</strong> Extract remaining features (Profile, Content, Settings) ‚Üí ~2,000 lines
                        </div>
                        <div style="background: var(--bg-card); padding: 15px; border-left: 4px solid var(--accent-orange); border-radius: 6px;">
                            <strong>Day 2 (Half Day):</strong> Update imports, barrel exports, testing, verify builds
                        </div>
                    </div>

                    <h4>üéØ Benefits (Why This Matters)</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div style="background: rgba(37, 141, 88, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(37, 141, 88, 0.3);">
                            <strong>üöÄ Parallel Development</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">Team can work on multiple features without blocking</span>
                        </div>
                        <div style="background: rgba(0, 168, 232, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(0, 168, 232, 0.3);">
                            <strong>‚ö° Faster Builds</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">Only recompile changed features, not entire file</span>
                        </div>
                        <div style="background: rgba(239, 167, 63, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(239, 167, 63, 0.3);">
                            <strong>üß™ Easier Testing</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">Test individual copy models in isolation</span>
                        </div>
                        <div style="background: rgba(0, 214, 101, 0.1); padding: 15px; border-radius: 8px; border: 1px solid rgba(0, 214, 101, 0.3);">
                            <strong>‚ú® Better Quality</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">Immutable properties, type-safe parsing, const constructors</span>
                        </div>
                    </div>

                    <h4>üìä Success Metrics</h4>
                    <div class="metric-box" style="background: rgba(37, 141, 88, 0.1); border-left-color: var(--accent-green);">
                        <strong>Quantitative Targets (30 days post-deployment):</strong><br>
                        ‚úÖ File size reduced from 3,455 ‚Üí &lt;200 lines (94% reduction)<br>
                        ‚úÖ Build time: 10-15% faster (measurable via CI/CD)<br>
                        ‚úÖ Merge conflicts: 90% reduction (Git metrics tracking)<br>
                        ‚úÖ Developer velocity: +20% (story points completed per sprint)<br>
                        ‚úÖ Test coverage: Isolated unit tests per feature<br>
                        ‚úÖ Code quality: All files follow CLAUDE.md standards
                    </div>

                    <h4>‚ö†Ô∏è Risk: LOW (No Backend Changes)</h4>
                    <ul>
                        <li>‚úÖ <strong>Pure frontend refactoring</strong> - No API contract changes</li>
                        <li>‚úÖ <strong>No breaking changes</strong> - Usage code remains identical</li>
                        <li>‚úÖ <strong>Incremental approach</strong> - Extract 1 feature at a time, test, commit</li>
                        <li>‚úÖ <strong>No backend coordination</strong> - JSON parsing stays the same</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>‚è±Ô∏è Total Effort:</strong> 1.5 days (1 developer, can run parallel to feature development)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Priority:</strong> P1 - Critical (blocks team scalability)</p>
                    <p style="margin-top: 5px;"><strong>üí∞ ROI:</strong> High - 1.5 days investment ‚Üí ongoing 20% velocity improvement</p>
                </div>
                </div>
            </div>

            <!-- Initiative 13: Trailer Fallback Fix -->
            <div class="initiative-card collapsed" style="background: linear-gradient(135deg, rgba(244, 67, 54, 0.1) 0%, rgba(255, 87, 34, 0.05) 100%); border: 2px solid #f44336;">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number" style="background: linear-gradient(135deg, #f44336, #e53935);">13</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Fix Trailer Fallback in Content Playback</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new" style="background: #f44336;">üêõ BUG FIX</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(34, 197, 94, 0.3); padding: 2px 6px; border-radius: 4px; color: #22c55e;">S</strong> / 1 Day</span>
                            <span class="badge badge-team">üë• 1 Developer</span>
                            <span class="badge badge-impact">üé¨ Unblocks Playback</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="initiative-content">
                <div class="user-types">
                    <h4>üéØ Target Users</h4>
                    <div class="user-type-tags">
                        <span class="user-type-tag">all_users</span>
                    </div>
                </div>

                <div class="section-content">
                    <h4>üö® Problem: Playback Blocked by Invalid Trailers</h4>
                    <div class="metric-box" style="border-left-color: #f44336;">
                        <strong>Current Bug:</strong> When trailer URL is empty or invalid, consumption cubit logic fails to fallback to actual content playback<br>
                        <strong>Impact:</strong> Users cannot watch main content when trailer metadata is missing/corrupted<br>
                        <strong>Root Cause:</strong> Missing validation and fallback logic in consumption cubit
                    </div>

                    <h4>‚úÖ Solution: Add Trailer Validation & Fallback</h4>
                    <ul>
                        <li><strong>Validate Trailer URL:</strong> Check for null, empty string, or invalid URL format before attempting trailer playback</li>
                        <li><strong>Automatic Fallback:</strong> If trailer is invalid, skip trailer and proceed directly to main content playback</li>
                        <li><strong>Error Handling:</strong> Gracefully handle trailer load failures without blocking content</li>
                        <li><strong>Analytics Tracking:</strong> Track <code>trailer_load_failed</code> and <code>content_fallback_triggered</code> events</li>
                        <li><strong>Backend API Logging:</strong> Hit backend API with content details when trailer failure detected ‚Üí Enables Datadog hourly alerts based on API call count</li>
                    </ul>

                    <h4>üìä Backend Monitoring Setup</h4>
                    <div style="background: rgba(244, 67, 54, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border-left: 3px solid #f44336;">
                        <strong>API Endpoint:</strong> <code>POST /api/v1/content/trailer-failure</code><br>
                        <strong>Payload:</strong> <code>{ content_id, content_type, trailer_url, error_type, timestamp, user_id }</code><br>
                        <strong>Datadog Alert:</strong> Trigger alert if trailer failure count > threshold per hour<br>
                        <strong>Use Case:</strong> Monitor content quality issues, identify problematic content, alert backend team
                    </div>

                    <h4>üìÅ Files to Modify</h4>
                    <ul>
                        <li><code>consumption_cubit.dart</code> - Add trailer validation + fallback logic + backend API call</li>
                        <li><code>consumption_state.dart</code> - Handle fallback states if needed</li>
                        <li>Analytics helper - Add tracking events</li>
                        <li><code>api_client.dart</code> - Add <code>logTrailerFailure()</code> method</li>
                        <li>Backend team - Create <code>/api/v1/content/trailer-failure</code> endpoint</li>
                    </ul>

                    <h4>üß™ Testing</h4>
                    <ul>
                        <li>Test with null trailer URL ‚Üí Should play main content + log to backend</li>
                        <li>Test with empty string trailer URL ‚Üí Should play main content + log to backend</li>
                        <li>Test with invalid URL format ‚Üí Should play main content + log to backend</li>
                        <li>Test with valid trailer ‚Üí Should play trailer then content (no backend call)</li>
                        <li>Verify analytics events fire correctly</li>
                        <li>Verify backend API receives failure logs with correct payload</li>
                        <li>Test Datadog alert triggers when failure count exceeds threshold</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>‚è±Ô∏è Total Effort:</strong> 1 day (1 developer)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Priority:</strong> P1 - High (blocks content playback for affected users)</p>
                    <p style="margin-top: 5px;"><strong>üí∞ Impact:</strong> Improved playback reliability + better user experience</p>
                </div>
                </div>
            </div>

            <!-- Initiative 14: Remove HAR & RAJ Flavors -->
            <div class="initiative-card collapsed" style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.1) 0%, rgba(103, 58, 183, 0.05) 100%); border: 2px solid #9c27b0;">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number" style="background: linear-gradient(135deg, #9c27b0, #7b1fa2);">14</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Remove Discontinued HAR & RAJ Flavor Configurations</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new" style="background: #9c27b0;">üßπ CLEANUP</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(34, 197, 94, 0.3); padding: 2px 6px; border-radius: 4px; color: #22c55e;">S</strong> / 1 Day</span>
                            <span class="badge badge-team">üë• 1 Developer</span>
                            <span class="badge badge-impact">üì¶ -4 Flavors</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="initiative-content">
                <div class="section-content" style="margin-top: 30px;">
                    <h4>üìä Current State</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div class="metric-box" style="border-left-color: #9c27b0;">
                            <strong>6 Flavors</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">Currently maintained</span>
                        </div>
                        <div class="metric-box" style="border-left-color: #4caf50;">
                            <strong>2 Active</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">dev + prod only</span>
                        </div>
                        <div class="metric-box" style="border-left-color: #f44336;">
                            <strong>4 Unused</strong><br>
                            <span style="color: var(--text-muted); font-size: 0.9em;">har/raj discontinued</span>
                        </div>
                    </div>

                    <h4>üóëÔ∏è Files to Delete</h4>
                    <table style="width: 100%; background: var(--bg-card); border-radius: 8px; overflow: hidden; margin-top: 15px;">
                        <thead>
                            <tr style="background: rgba(156, 39, 176, 0.1);">
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color);">Category</th>
                                <th style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);">Count</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid var(--border-color);">Files/Directories</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">Android Directories</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);"><strong>4</strong></td>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">
                                    <code>android/app/src/har/</code><br>
                                    <code>android/app/src/har_dev/</code><br>
                                    <code>android/app/src/raj/</code><br>
                                    <code>android/app/src/raj_dev/</code>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">CI/CD Workflows</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);"><strong>4</strong></td>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">
                                    <code>.github/workflows/firebase_build_har_apk.yaml</code><br>
                                    <code>.github/workflows/firebase_build_raj_apk.yaml</code><br>
                                    <code>.github/workflows/tramline_build_har_aab.yaml</code><br>
                                    <code>.github/workflows/tramline_build_raj_aab.yaml</code>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">Firebase Configs</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);"><strong>4</strong></td>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">
                                    <code>lib/config/firebase_options_har.dart</code><br>
                                    <code>lib/config/firebase_options_har_dev.dart</code><br>
                                    <code>lib/config/firebase_options_raj.dart</code><br>
                                    <code>lib/config/firebase_options_raj_dev.dart</code>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">Launcher/Splash Configs</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);"><strong>8</strong></td>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">
                                    <code>flutter_launcher_icons-har.yaml</code><br>
                                    <code>flutter_launcher_icons-har_dev.yaml</code><br>
                                    <code>flutter_launcher_icons-raj.yaml</code><br>
                                    <code>flutter_launcher_icons-raj_dev.yaml</code><br>
                                    <code>flutter_native_splash-har.yaml</code><br>
                                    <code>flutter_native_splash-har_dev.yaml</code><br>
                                    <code>flutter_native_splash-raj.yaml</code><br>
                                    <code>flutter_native_splash-raj_dev.yaml</code>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">Dev Assets</td>
                                <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border-color);"><strong>4</strong></td>
                                <td style="padding: 12px; border-bottom: 1px solid var(--border-color);">
                                    <code>dev_assets/har_dev.png</code><br>
                                    <code>dev_assets/har_prod.png</code><br>
                                    <code>dev_assets/raj_dev.png</code><br>
                                    <code>dev_assets/raj_prod.png</code>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px;">Code Modifications</td>
                                <td style="padding: 12px; text-align: center;"><strong>3</strong></td>
                                <td style="padding: 12px;"><code>build.gradle</code>, <code>app_flavor_enum.dart</code>, <code>shorebird.yaml</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h4 style="margin-top: 25px;">‚úÖ Testing</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-top: 15px;">
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ Build dev successfully
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ Build prod successfully
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ CI/CD triggers correctly
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ No har/raj references remain
                        </div>
                    </div>

                    <p style="margin-top: 20px;"><strong>‚è±Ô∏è Total Effort:</strong> 1 day</p>
                    <p style="margin-top: 5px;"><strong>üéØ Priority:</strong> P2 - Medium (cleanup task)</p>
                    <p style="margin-top: 5px;"><strong>üí∞ Impact:</strong> Reduced maintenance overhead + cleaner codebase</p>
                </div>
                </div>
            </div>

            <!-- Initiative 15: Memory Leak Audit -->
            <div class="initiative-card collapsed" style="background: linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%); border: 2px solid #ff9800;">
                <div class="initiative-header" onclick="toggleInitiative(this)">
                    <div class="initiative-number" style="background: linear-gradient(135deg, #ff9800, #f57c00);">15</div>
                    <div class="initiative-title-block">
                        <div class="initiative-title">Memory Leak Audit & Performance Optimization</div>
                        <div class="initiative-meta">
                            <span class="badge badge-new" style="background: #ff9800;">‚ö° PERFORMANCE</span>
                            <span class="badge badge-week">‚è±Ô∏è <strong style="background: rgba(34, 197, 94, 0.3); padding: 2px 6px; border-radius: 4px; color: #22c55e;">S</strong> / 1.5 Days</span>
                            <span class="badge badge-team">üë• 1 Developer</span>
                            <span class="badge badge-impact">üöÄ Reduce Crashes</span>
                        </div>
                    </div>
                    <div class="expand-toggle"></div>
                </div>

                <div class="initiative-content">
                <div class="section-content" style="margin-top: 30px;">
                    <h4>üö® Problem: Potential Memory Leaks</h4>
                    <div class="metric-box" style="border-left-color: #ff9800;">
                        <strong>Risk:</strong> Unsubscribed streams and undisposed resources cause memory leaks<br>
                        <strong>Impact:</strong> App slowdown, increased crashes, poor user experience<br>
                        <strong>Common Culprits:</strong> StreamSubscriptions, VideoControllers, AnimationControllers, Timers, Database connections
                    </div>

                    <h4>üîç Action Points (3 Phases)</h4>

                    <p style="margin-top: 15px;"><strong>Phase 1: Stream Subscription Audit (0.5 days)</strong></p>
                    <table style="width: 100%; background: var(--bg-card); border-radius: 8px; overflow: hidden; margin-top: 10px;">
                        <thead>
                            <tr style="background: rgba(255, 152, 0, 0.1);">
                                <th style="padding: 10px; text-align: left; border-bottom: 1px solid var(--border-color);">Action</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 1px solid var(--border-color);">Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>Search Pattern</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><code>StreamSubscription</code>, <code>.listen(</code>, <code>.stream</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>Verify</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);">Each subscription has <code>cancel()</code> in <code>dispose()</code> or <code>close()</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>Check Cubits</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);">All Cubit classes properly call <code>subscription?.cancel()</code> in <code>close()</code></td>
                            </tr>
                            <tr>
                                <td style="padding: 10px;"><strong>Check Widgets</strong></td>
                                <td style="padding: 10px;">StatefulWidgets with streams cancel in <code>dispose()</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <p style="margin-top: 15px;"><strong>Phase 2: Video/Animation Controller Audit (0.5 days)</strong></p>
                    <table style="width: 100%; background: var(--bg-card); border-radius: 8px; overflow: hidden; margin-top: 10px;">
                        <thead>
                            <tr style="background: rgba(255, 152, 0, 0.1);">
                                <th style="padding: 10px; text-align: left; border-bottom: 1px solid var(--border-color);">Controller Type</th>
                                <th style="padding: 10px; text-align: left; border-bottom: 1px solid var(--border-color);">Audit Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>VideoController</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);">Verify <code>controller.dispose()</code> called in widget/cubit disposal</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>AnimationController</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);">Check <code>controller.dispose()</code> in <code>dispose()</code> method</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>TextEditingController</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);">Ensure proper disposal in form screens</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);"><strong>ScrollController</strong></td>
                                <td style="padding: 10px; border-bottom: 1px solid var(--border-color);">Verify disposal, especially in list screens</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px;"><strong>Timer/Periodic</strong></td>
                                <td style="padding: 10px;">Find all <code>Timer.periodic</code> and verify <code>cancel()</code> called</td>
                            </tr>
                        </tbody>
                    </table>

                    <p style="margin-top: 15px;"><strong>Phase 3: DevTools Memory Profiling (0.5 days)</strong></p>
                    <ul style="margin-top: 10px;">
                        <li><strong>Profile Key Screens:</strong> Home, Player, Profile, Search (high-traffic screens)</li>
                        <li><strong>Test Scenario:</strong> Navigate to screen ‚Üí Use features ‚Üí Back ‚Üí Check if objects are released</li>
                        <li><strong>Tools:</strong> Flutter DevTools Memory tab, Heap Snapshot comparison</li>
                        <li><strong>Look For:</strong> Retained widget trees, unreleased controllers, zombie listeners</li>
                        <li><strong>Document Findings:</strong> Create report with screenshots + memory graphs</li>
                    </ul>

                    <h4 style="margin-top: 20px;">üéØ Priority Files to Check</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 12px; margin-top: 10px;">
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #ff9800;">
                            üìπ <strong>Video Playback</strong><br>
                            <code>consumption_cubit.dart</code><br>
                            <code>video_player_screen.dart</code>
                        </div>
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #ff9800;">
                            üè† <strong>Home Screen</strong><br>
                            <code>home_cubit.dart</code><br>
                            <code>home_screen.dart</code>
                        </div>
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #ff9800;">
                            üîç <strong>Search</strong><br>
                            <code>search_cubit.dart</code><br>
                            <code>search_screen.dart</code>
                        </div>
                        <div style="background: rgba(255, 152, 0, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #ff9800;">
                            ‚¨áÔ∏è <strong>Downloads</strong><br>
                            <code>download_manager.dart</code><br>
                            Background workers
                        </div>
                    </div>

                    <h4 style="margin-top: 20px;">üìã Common Fixes</h4>
                    <div style="background: rgba(255, 152, 0, 0.05); padding: 15px; border-radius: 8px; margin-top: 10px;">
                        <strong>Cubit Pattern:</strong><br>
                        <pre style="background: var(--bg-card); padding: 10px; border-radius: 4px; margin-top: 8px; overflow-x: auto;"><code>class MyCubit extends Cubit<MyState> {
  StreamSubscription? _subscription;

  @override
  Future<void> close() {
    _subscription?.cancel();
    return super.close();
  }
}</code></pre>
                    </div>

                    <h4 style="margin-top: 20px;">‚úÖ Testing & Validation</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-top: 10px;">
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ Run memory profiler on key screens
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ Compare heap snapshots before/after
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ Test navigation leaks (back button)
                        </div>
                        <div style="background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #4caf50;">
                            ‚úÖ Verify no retained objects
                        </div>
                    </div>

                    <p style="margin-top: 20px;"><strong>‚è±Ô∏è Total Effort:</strong> 1.5 days (0.5d streams + 0.5d controllers + 0.5d profiling)</p>
                    <p style="margin-top: 5px;"><strong>üéØ Priority:</strong> P1 - High (prevents production issues)</p>
                    <p style="margin-top: 5px;"><strong>üí∞ Impact:</strong> Reduced app crashes, improved performance, better user experience</p>
                </div>
                </div>
            </div>

        </div>

        <!-- Summary Footer -->
        <div class="summary-footer">
            <h2 class="summary-title">üìä 3-Month Impact Forecast</h2>

            <div class="impact-grid">
                <div class="impact-card">
                    <div class="impact-value">36%</div>
                    <div class="impact-label">Current TCR Android<br>(116K cancellations/month)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">18K</div>
                    <div class="impact-label">PSP Saves per Month<br>(15% of 120K PSP cancellations)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">2.5K</div>
                    <div class="impact-label">Resume Notification Saves<br>(Incomplete sessions)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">20.5K</div>
                    <div class="impact-label">Total Saved Trials/Month<br>(12% TCR reduction)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">+6.15L</div>
                    <div class="impact-label">MRR from TCR Reduction<br>(~‚Çπ73.8L ARR)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">+13pp</div>
                    <div class="impact-label">Micro Drama Starts<br>(22% ‚Üí 35%)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">2.1x</div>
                    <div class="impact-label">Episodes per Session<br>(Microdrama viewers)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">10K+</div>
                    <div class="impact-label">Social Shares/Month<br>(Binge Leaderboard viral)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">+45%</div>
                    <div class="impact-label">Content Discovery<br>(AI Mood Curator)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">+45%</div>
                    <div class="impact-label">Weekly Active Users<br>(Community Challenges)</div>
                </div>
                <div class="impact-card">
                    <div class="impact-value">+30%</div>
                    <div class="impact-label">Content Consumption<br>(Challenge weeks)</div>
                </div>
            </div>

            <div class="footer-meta">
                <strong>Author:</strong> Mofidul Islam, SDE III - Mobile<br>
                <strong>Date:</strong> January 30, 2026 | <strong>Status:</strong> ‚úÖ Ready for Execution<br>
                <strong>Version:</strong> FINAL (6 P0 Initiatives: PSP Cancellation + Resume Notifications + Microdrama + Watchlist + Binge Leaderboard + AI Mood Curator)
            </div>
        </div>
    </div>

    <script>
        function toggleInitiative(header) {
            const card = header.closest('.initiative-card');
            card.classList.toggle('collapsed');
        }
    </script>
</body>
</html>
